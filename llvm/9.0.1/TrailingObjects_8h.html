<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: include/llvm/Support/TrailingObjects.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;9.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_dcde91663b8816e1e2311938ccd8f690.html">llvm</a></li><li class="navelem"><a class="el" href="dir_ae1e398ac700924fa434b51c248a5531.html">Support</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle"><div class="title">TrailingObjects.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This header defines support for implementing classes that have some trailing object (or arrays of objects) appended to them.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="AlignOf_8h_source.html">llvm/Support/AlignOf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Compiler_8h_source.html">llvm/Support/Compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MathExtras_8h_source.html">llvm/Support/MathExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__traits_8h_source.html">llvm/Support/type_traits.h</a>&quot;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for TrailingObjects.h:</div>
<div class="dyncontent">
<div class="center"><img src="TrailingObjects_8h__incl.png" border="0" usemap="#ainclude_2llvm_2Support_2TrailingObjects_8h" alt=""/></div>
<map name="ainclude_2llvm_2Support_2TrailingObjects_8h" id="ainclude_2llvm_2Support_2TrailingObjects_8h">
<area shape="rect" title="This header defines support for implementing classes that have some trailing object (or arrays of obj..." alt="" coords="356,5,512,45"/>
<area shape="rect" href="AlignOf_8h.html" title=" " alt="" coords="34,167,202,192"/>
<area shape="rect" href="Compiler_8h.html" title=" " alt="" coords="190,240,369,265"/>
<area shape="rect" title=" " alt="" coords="5,313,55,339"/>
<area shape="rect" href="MathExtras_8h.html" title=" " alt="" coords="533,93,727,119"/>
<area shape="rect" title=" " alt="" coords="895,240,987,265"/>
<area shape="rect" href="type__traits_8h.html" title=" " alt="" coords="1091,167,1281,192"/>
<area shape="rect" title=" " alt="" coords="88,240,159,265"/>
<area shape="rect" title=" " alt="" coords="155,313,340,339"/>
<area shape="rect" title=" " alt="" coords="365,313,439,339"/>
<area shape="rect" href="SwapByteOrder_8h.html" title=" " alt="" coords="519,167,741,192"/>
<area shape="rect" title=" " alt="" coords="410,167,495,192"/>
<area shape="rect" title=" " alt="" coords="815,167,885,192"/>
<area shape="rect" title=" " alt="" coords="909,167,975,192"/>
<area shape="rect" title=" " alt="" coords="999,167,1066,192"/>
<area shape="rect" title=" " alt="" coords="327,167,386,192"/>
<area shape="rect" href="DataTypes_8h.html" title=" " alt="" coords="535,240,725,265"/>
<area shape="rect" title=" " alt="" coords="557,313,703,339"/>
<area shape="rect" title=" " alt="" coords="1156,240,1216,265"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="TrailingObjects_8h__dep__incl.png" border="0" usemap="#ainclude_2llvm_2Support_2TrailingObjects_8hdep" alt=""/></div>
<map name="ainclude_2llvm_2Support_2TrailingObjects_8hdep" id="ainclude_2llvm_2Support_2TrailingObjects_8hdep">
<area shape="rect" title="This header defines support for implementing classes that have some trailing object (or arrays of obj..." alt="" coords="656,5,812,45"/>
<area shape="rect" href="AttributeImpl_8h.html" title="This file defines various helper methods and classes used by LLVMContextImpl for creating and managin..." alt="" coords="566,101,723,126"/>
<area shape="rect" href="LowerTypeTests_8cpp.html" title=" " alt="" coords="747,93,902,133"/>
<area shape="rect" href="Attributes_8cpp.html" title=" " alt="" coords="5,255,156,280"/>
<area shape="rect" href="LLVMContextImpl_8h.html" title=" " alt="" coords="1116,181,1301,207"/>
<area shape="rect" href="Constants_8cpp.html" title=" " alt="" coords="180,255,331,280"/>
<area shape="rect" href="DIBuilder_8cpp.html" title=" " alt="" coords="355,255,500,280"/>
<area shape="rect" href="DebugInfoMetadata_8cpp.html" title=" " alt="" coords="524,255,739,280"/>
<area shape="rect" href="DebugLoc_8cpp.html" title=" " alt="" coords="763,255,913,280"/>
<area shape="rect" href="DiagnosticInfo_8cpp.html" title=" " alt="" coords="937,255,1117,280"/>
<area shape="rect" href="Globals_8cpp.html" title=" " alt="" coords="1141,255,1276,280"/>
<area shape="rect" href="InlineAsm_8cpp.html" title=" " alt="" coords="1300,255,1451,280"/>
<area shape="rect" href="Instructions_8cpp.html" title=" " alt="" coords="1475,255,1638,280"/>
<area shape="rect" href="LLVMContext_8cpp.html" title=" " alt="" coords="1662,255,1833,280"/>
<area shape="rect" href="LLVMContextImpl_8cpp.html" title=" " alt="" coords="1857,255,2057,280"/>
<area shape="rect" href="Metadata_8cpp.html" title=" " alt="" coords="2080,255,2228,280"/>
<area shape="rect" href="Type_8cpp.html" title=" " alt="" coords="2252,255,2368,280"/>
<area shape="rect" href="Value_8cpp.html" title=" " alt="" coords="2393,255,2515,280"/>
</map>
</div>
</div>
<p><a href="TrailingObjects_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1AlignmentCalcHelper.html">llvm::trailing_objects_internal::AlignmentCalcHelper&lt; First, Rest &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper template to calculate the max alignment requirement for a set of objects.  <a href="classllvm_1_1trailing__objects__internal_1_1AlignmentCalcHelper.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1AlignmentCalcHelper_3_01First_01_4.html">llvm::trailing_objects_internal::AlignmentCalcHelper&lt; First &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsBase.html">llvm::trailing_objects_internal::TrailingObjectsBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The base class for TrailingObjects* classes.  <a href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1trailing__objects__internal_1_1TrailingObjectsBase_1_1OverloadToken.html">llvm::trailing_objects_internal::TrailingObjectsBase::OverloadToken&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structllvm_1_1trailing__objects__internal_1_1TrailingObjectsBase_1_1OverloadToken.html" title="OverloadToken&#39;s purpose is to allow specifying function overloads for different types,...">OverloadToken</a>'s purpose is to allow specifying function overloads for different types, without actually taking the types as parameters.  <a href="structllvm_1_1trailing__objects__internal_1_1TrailingObjectsBase_1_1OverloadToken.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; Align &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This helper template works-around MSVC 2013's lack of useful alignas() support.  <a href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner_3_011_01_4.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; 1 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner_3_012_01_4.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; 2 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner_3_014_01_4.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; 4 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner_3_018_01_4.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; 8 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner_3_0116_01_4.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; 16 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsAligner_3_0132_01_4.html">llvm::trailing_objects_internal::TrailingObjectsAligner&lt; 32 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1trailing__objects__internal_1_1ExtractSecondType.html">llvm::trailing_objects_internal::ExtractSecondType&lt; Ty1, Ty2 &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsImpl.html">llvm::trailing_objects_internal::TrailingObjectsImpl&lt; Align, BaseTy, TopTrailingObj, PrevTy, MoreTys &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsImpl_3_01Align_00_01BaseTy_00_01TopTr5a58cdfa9374e568d378afffb4b443a2.html">llvm::trailing_objects_internal::TrailingObjectsImpl&lt; Align, BaseTy, TopTrailingObj, PrevTy, NextTy, MoreTys... &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1trailing__objects__internal_1_1TrailingObjectsImpl_3_01Align_00_01BaseTy_00_01TopTrailingObj_00_01PrevTy_01_4.html">llvm::trailing_objects_internal::TrailingObjectsImpl&lt; Align, BaseTy, TopTrailingObj, PrevTy &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1TrailingObjects.html">llvm::TrailingObjects&lt; BaseTy, TrailingTys &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">See the file comment for details on the usage of the <a class="el" href="classllvm_1_1TrailingObjects.html" title="See the file comment for details on the usage of the TrailingObjects type.">TrailingObjects</a> type.  <a href="classllvm_1_1TrailingObjects.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1TrailingObjects_1_1FixedSizeStorage.html">llvm::TrailingObjects&lt; BaseTy, TrailingTys &gt;::FixedSizeStorage&lt; Tys &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A type where its ::with_counts template member has a ::type member suitable for use as uninitialized storage for an object with the given trailing object counts.  <a href="structllvm_1_1TrailingObjects_1_1FixedSizeStorage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1TrailingObjects_1_1FixedSizeStorage_1_1with__counts.html">llvm::TrailingObjects&lt; BaseTy, TrailingTys &gt;::FixedSizeStorage&lt; Tys &gt;::with_counts&lt; Counts &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1TrailingObjects_1_1FixedSizeStorageOwner.html">llvm::TrailingObjects&lt; BaseTy, TrailingTys &gt;::FixedSizeStorageOwner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A type that acts as the owner for an object placed into fixed storage.  <a href="classllvm_1_1TrailingObjects_1_1FixedSizeStorageOwner.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacellvm"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm.html">llvm</a></td></tr>
<tr class="memdesc:namespacellvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class represents lattice values for constants. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacellvm_1_1trailing__objects__internal"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1trailing__objects__internal.html">llvm::trailing_objects_internal</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This header defines support for implementing classes that have some trailing object (or arrays of objects) appended to them. </p>
<p >The main purpose is to make it obvious where this idiom is being used, and to make the usage more idiomatic and more difficult to get wrong.</p>
<p >The TrailingObject template abstracts away the reinterpret_cast, pointer arithmetic, and size calculations used for the allocation and access of appended arrays of objects, and takes care that they are all allocated at their required alignment. Additionally, it ensures that the base type is final &ndash; deriving from a class that expects data appended immediately after it is typically not safe.</p>
<p >Users are expected to derive from this template, and provide numTrailingObjects implementations for each trailing type except the last, e.g. like this sample:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>VarLengthObj : <span class="keyword">private</span> TrailingObjects&lt;VarLengthObj, int, double&gt; {</div>
<div class="line">  <span class="keyword">friend</span> TrailingObjects;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">unsigned</span> NumInts, NumDoubles;</div>
<div class="line">  <span class="keywordtype">size_t</span> numTrailingObjects(OverloadToken&lt;int&gt;)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> NumInts; }</div>
<div class="line"> };</div>
</div><!-- fragment --><p >You can access the appended arrays via 'getTrailingObjects', and determine the size needed for allocation via 'additionalSizeToAlloc' and 'totalSizeToAlloc'.</p>
<p >All the methods implemented by this class are are intended for use by the implementation of the class, not as part of its interface (thus, private inheritance is suggested). </p>

<p class="definition">Definition in file <a class="el" href="TrailingObjects_8h_source.html">TrailingObjects.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 13 2022 12:56:36 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
