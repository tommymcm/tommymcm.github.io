<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Utils/LowerSwitch.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;9.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f75c00afeb315f44d76556a7c675e6e8.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">LowerSwitch.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;llvm/ADT/DenseMap.h&quot;</code><br />
<code>#include &quot;llvm/ADT/STLExtras.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SmallPtrSet.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SmallVector.h&quot;</code><br />
<code>#include &quot;llvm/Analysis/AssumptionCache.h&quot;</code><br />
<code>#include &quot;llvm/Analysis/LazyValueInfo.h&quot;</code><br />
<code>#include &quot;llvm/Analysis/ValueTracking.h&quot;</code><br />
<code>#include &quot;llvm/IR/BasicBlock.h&quot;</code><br />
<code>#include &quot;llvm/IR/CFG.h&quot;</code><br />
<code>#include &quot;llvm/IR/ConstantRange.h&quot;</code><br />
<code>#include &quot;llvm/IR/Constants.h&quot;</code><br />
<code>#include &quot;llvm/IR/Function.h&quot;</code><br />
<code>#include &quot;llvm/IR/InstrTypes.h&quot;</code><br />
<code>#include &quot;llvm/IR/Instructions.h&quot;</code><br />
<code>#include &quot;llvm/IR/Value.h&quot;</code><br />
<code>#include &quot;llvm/Pass.h&quot;</code><br />
<code>#include &quot;llvm/Support/Casting.h&quot;</code><br />
<code>#include &quot;llvm/Support/Compiler.h&quot;</code><br />
<code>#include &quot;llvm/Support/Debug.h&quot;</code><br />
<code>#include &quot;llvm/Support/KnownBits.h&quot;</code><br />
<code>#include &quot;llvm/Support/raw_ostream.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/BasicBlockUtils.h&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for LowerSwitch.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="LowerSwitch_8cpp__incl.png" border="0" usemap="#alib_2Transforms_2Utils_2LowerSwitch_8cpp" alt=""/></div>
<map name="alib_2Transforms_2Utils_2LowerSwitch_8cpp" id="alib_2Transforms_2Utils_2LowerSwitch_8cpp">
<area shape="rect" title=" " alt="" coords="2681,5,2829,45"/>
<area shape="rect" title=" " alt="" coords="5,101,172,126"/>
<area shape="rect" title=" " alt="" coords="197,101,359,126"/>
<area shape="rect" title=" " alt="" coords="384,101,559,126"/>
<area shape="rect" title=" " alt="" coords="583,101,757,126"/>
<area shape="rect" title=" " alt="" coords="781,93,972,133"/>
<area shape="rect" title=" " alt="" coords="996,101,1213,126"/>
<area shape="rect" title=" " alt="" coords="1238,101,1454,126"/>
<area shape="rect" title=" " alt="" coords="1478,101,1633,126"/>
<area shape="rect" title=" " alt="" coords="1657,101,1768,126"/>
<area shape="rect" title=" " alt="" coords="1792,101,1975,126"/>
<area shape="rect" title=" " alt="" coords="1999,101,2149,126"/>
<area shape="rect" title=" " alt="" coords="2173,101,2311,126"/>
<area shape="rect" title=" " alt="" coords="2336,101,2487,126"/>
<area shape="rect" title=" " alt="" coords="2511,101,2671,126"/>
<area shape="rect" title=" " alt="" coords="2695,101,2815,126"/>
<area shape="rect" title=" " alt="" coords="2839,101,2935,126"/>
<area shape="rect" title=" " alt="" coords="2959,101,3130,126"/>
<area shape="rect" title=" " alt="" coords="3154,101,3333,126"/>
<area shape="rect" title=" " alt="" coords="3357,101,3519,126"/>
<area shape="rect" title=" " alt="" coords="3544,101,3735,126"/>
<area shape="rect" title=" " alt="" coords="3759,101,3965,126"/>
<area shape="rect" title=" " alt="" coords="3990,101,4163,126"/>
<area shape="rect" title=" " alt="" coords="4188,93,4349,133"/>
<area shape="rect" title=" " alt="" coords="4374,101,4459,126"/>
<area shape="rect" title=" " alt="" coords="4483,101,4553,126"/>
<area shape="rect" title=" " alt="" coords="4577,101,4643,126"/>
<area shape="rect" title=" " alt="" coords="4668,101,4739,126"/>
<area shape="rect" title=" " alt="" coords="4763,101,4822,126"/>
<area shape="rect" title=" " alt="" coords="4847,101,4909,126"/>
</map>
</div>
</div>
<p><a href="LowerSwitch_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;lower-switch&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afcbfe4e8e812c721a28c9a46181fc45e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#afcbfe4e8e812c721a28c9a46181fc45e">IsInRanges</a> (const IntRange &amp;R, const std::vector&lt; IntRange &gt; &amp;Ranges)</td></tr>
<tr class="separator:afcbfe4e8e812c721a28c9a46181fc45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05af0037886ed56e8f785ba0c11f2e96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#a05af0037886ed56e8f785ba0c11f2e96">INITIALIZE_PASS_BEGIN</a> (LowerSwitch, &quot;lowerswitch&quot;, &quot;Lower SwitchInst's to branches&quot;, false, false) INITIALIZE_PASS_END(LowerSwitch</td></tr>
<tr class="separator:a05af0037886ed56e8f785ba0c11f2e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0ca42863acb45c36203fe8816dae03"><td class="memItemLeft" align="right" valign="top">static LLVM_ATTRIBUTE_USED raw_ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#a8c0ca42863acb45c36203fe8816dae03">operator&lt;&lt;</a> (raw_ostream &amp;O, const LowerSwitch::CaseVector &amp;C)</td></tr>
<tr class="memdesc:a8c0ca42863acb45c36203fe8816dae03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for debugging purposes.  <a href="LowerSwitch_8cpp.html#a8c0ca42863acb45c36203fe8816dae03">More...</a><br /></td></tr>
<tr class="separator:a8c0ca42863acb45c36203fe8816dae03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff8989a85cc36333843b6886475aa54"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#a8ff8989a85cc36333843b6886475aa54">fixPhis</a> (BasicBlock *SuccBB, BasicBlock *OrigBB, BasicBlock *NewBB, const unsigned NumMergedCases=std::numeric_limits&lt; unsigned &gt;::max())</td></tr>
<tr class="memdesc:a8ff8989a85cc36333843b6886475aa54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the first occurrence of the "switch statement" BB in the PHI node with the "new" BB.  <a href="LowerSwitch_8cpp.html#a8ff8989a85cc36333843b6886475aa54">More...</a><br /></td></tr>
<tr class="separator:a8ff8989a85cc36333843b6886475aa54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab989a895af9859f1fb6e3dd1ff7ef6f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#ab989a895af9859f1fb6e3dd1ff7ef6f3">lowerswitch</a></td></tr>
<tr class="separator:ab989a895af9859f1fb6e3dd1ff7ef6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89fa9ac8d6b6438790275688d562853"><td class="memItemLeft" align="right" valign="top">Lower SwitchInst s to&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a></td></tr>
<tr class="separator:ae89fa9ac8d6b6438790275688d562853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc213211457565b43ff199571173bc4"><td class="memItemLeft" align="right" valign="top">Lower SwitchInst s to&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LowerSwitch_8cpp.html#a8fc213211457565b43ff199571173bc4">false</a></td></tr>
<tr class="separator:a8fc213211457565b43ff199571173bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;lower-switch&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00047">47</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8ff8989a85cc36333843b6886475aa54" name="a8ff8989a85cc36333843b6886475aa54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff8989a85cc36333843b6886475aa54">&#9670;&nbsp;</a></span>fixPhis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fixPhis </td>
          <td>(</td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>SuccBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>OrigBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>NewBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>NumMergedCases</em> = <code>std::numeric_limits&lt;unsigned&gt;::max()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the first occurrence of the "switch statement" BB in the PHI node with the "new" BB. </p>
<p >The other occurrences will:</p>
<p >1) Be updated by subsequent calls to this function. Switch statements may have more than one outcoming edge into the same BB if they all have the same value. When the switch statement is converted these incoming edges are now coming from multiple BBs. 2) Removed if subsequent incoming values now share the same case, i.e., multiple outcome edges are condensed into one. This is necessary to keep the number of phi values equal to the number of branches to SuccBB. </p>

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00210">210</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="DeadArgumentElimination_8cpp_source.html#l00342">Idx</a>.</p>

</div>
</div>
<a id="a05af0037886ed56e8f785ba0c11f2e96" name="a05af0037886ed56e8f785ba0c11f2e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05af0037886ed56e8f785ba0c11f2e96">&#9670;&nbsp;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">LowerSwitch&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;lowerswitch&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Lower SwitchInst's to branches&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afcbfe4e8e812c721a28c9a46181fc45e" name="afcbfe4e8e812c721a28c9a46181fc45e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcbfe4e8e812c721a28c9a46181fc45e">&#9670;&nbsp;</a></span>IsInRanges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool IsInRanges </td>
          <td>(</td>
          <td class="paramtype">const IntRange &amp;&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; IntRange &gt; &amp;&#160;</td>
          <td class="paramname"><em>Ranges</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00058">58</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

</div>
</div>
<a id="a8c0ca42863acb45c36203fe8816dae03" name="a8c0ca42863acb45c36203fe8816dae03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c0ca42863acb45c36203fe8816dae03">&#9670;&nbsp;</a></span>operator&lt;&lt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LLVM_ATTRIBUTE_USED raw_ostream &amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">raw_ostream &amp;&#160;</td>
          <td class="paramname"><em>O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LowerSwitch::CaseVector &amp;&#160;</td>
          <td class="paramname"><em>C</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for debugging purposes. </p>

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00185">185</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae89fa9ac8d6b6438790275688d562853" name="ae89fa9ac8d6b6438790275688d562853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89fa9ac8d6b6438790275688d562853">&#9670;&nbsp;</a></span>branches</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Lower SwitchInst s to branches</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00139">139</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

</div>
</div>
<a id="a8fc213211457565b43ff199571173bc4" name="a8fc213211457565b43ff199571173bc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc213211457565b43ff199571173bc4">&#9670;&nbsp;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Lower SwitchInst s to false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00139">139</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

</div>
</div>
<a id="ab989a895af9859f1fb6e3dd1ff7ef6f3" name="ab989a895af9859f1fb6e3dd1ff7ef6f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab989a895af9859f1fb6e3dd1ff7ef6f3">&#9670;&nbsp;</a></span>lowerswitch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lowerswitch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LowerSwitch_8cpp_source.html#l00138">138</a> of file <a class="el" href="LowerSwitch_8cpp_source.html">LowerSwitch.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 13 2022 12:44:45 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
