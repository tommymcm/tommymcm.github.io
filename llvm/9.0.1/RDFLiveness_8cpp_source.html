<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/Hexagon/RDFLiveness.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;9.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_44384080de1e1933d0286d6003f85ecf.html">Hexagon</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">RDFLiveness.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="RDFLiveness_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//===- RDFLiveness.cpp ----------------------------------------------------===//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">//</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">//</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// Computation of the liveness information from the data-flow graph.</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">//</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// The main functionality of this code is to compute block live-in</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">// information. With the live-in information in place, the placement</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// of kill flags can also be recalculated.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">//</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">// The block live-in calculation is based on the ideas from the following</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">// publication:</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">//</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">// Dibyendu Das, Ramakrishna Upadrasta, Benoit Dupont de Dinechin.</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">// &quot;Efficient Liveness Computation Using Merge Sets and DJ-Graphs.&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">// ACM Transactions on Architecture and Code Optimization, Association for</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// Computing Machinery, 2012, ACM TACO Special Issue on &quot;High-Performance</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// and Embedded Architectures and Compilers&quot;, 8 (4),</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">// &lt;10.1145/2086696.2086706&gt;. &lt;hal-00647369&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">//</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="RDFLiveness_8h.html">RDFLiveness.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="RDFGraph_8h.html">RDFGraph.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="RDFRegisters_8h.html">RDFRegisters.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="MachineDominanceFrontier_8h.html">llvm/CodeGen/MachineDominanceFrontier.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="LaneBitmask_8h.html">llvm/MC/LaneBitmask.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="llvm_2Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="keyword">using namespace </span>rdf;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="RDFLiveness_8cpp.html#a9d96a5052466b04ba46179d0a0bb3420">   54</a></span><span class="keyword">static</span> <a class="code hl_class" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code hl_variable" href="RDFLiveness_8cpp.html#a9d96a5052466b04ba46179d0a0bb3420">MaxRecNest</a>(<span class="stringliteral">&quot;rdf-liveness-max-rec&quot;</span>, <a class="code hl_function" href="namespacellvm_1_1cl.html#ac12e6a8f3a1b511f0dee2ed6de0ae806">cl::init</a>(25),</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  <a class="code hl_enumvalue" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code hl_struct" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Maximum recursion level&quot;</span>));</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keyword">namespace </span>rdf {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="namespacellvm_1_1rdf.html#a485368f8625187f3d0bfd3718244f585">   60</a></span>  <a class="code hl_class" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code hl_function" href="namespacellvm_1_1rdf.html#a60fa65d781febd6397384d28b9956870">operator&lt;&lt; </a>(<a class="code hl_class" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;OS, <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;Liveness::RefMap&gt;</a> &amp;<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>) {</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    OS &lt;&lt; <span class="charliteral">&#39;{&#39;</span>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.Obj) {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>      OS &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code hl_function" href="namespacellvm.html#af2558be0a37011f8cab1934429d7a64e">printReg</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, &amp;<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.G.getTRI()) &lt;&lt; <span class="charliteral">&#39;{&#39;</span>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> J = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.begin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.end(); J != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ) {</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        OS &lt;&lt; Print&lt;NodeId&gt;(J-&gt;first, <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.G) &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1PrintLaneMaskOpt.html">PrintLaneMaskOpt</a>(J-&gt;second);</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <span class="keywordflow">if</span> (++J != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>)</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>          OS &lt;&lt; <span class="charliteral">&#39;,&#39;</span>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>      }</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>      OS &lt;&lt; <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    }</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    OS &lt;&lt; <span class="stringliteral">&quot; }&quot;</span>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="keywordflow">return</span> OS;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  }</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>} <span class="comment">// end namespace rdf</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">// The order in the returned sequence is the order of reaching defs in the</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">// upward traversal: the first def is the closest to the given reference RefA,</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">// the next one is further up, and so on.</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">// The list ends at a reaching phi def, or when the reference from RefA is</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// covered by the defs in the list (see FullChain).</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">// This function provides two modes of operation:</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">// (1) Returning the sequence of reaching defs for a particular reference</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment">// node. This sequence will terminate at the first phi node [1].</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">// (2) Returning a partial sequence of reaching defs, where the final goal</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">// is to traverse past phi nodes to the actual defs arising from the code</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment">// itself.</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment">// In mode (2), the register reference for which the search was started</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="comment">// may be different from the reference node RefA, for which this call was</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment">// made, hence the argument RefRR, which holds the original register.</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment">// Also, some definitions may have already been encountered in a previous</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment">// call that will influence register covering. The register references</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment">// already defined are passed in through DefRRs.</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment">// In mode (1), the &quot;continuation&quot; considerations do not apply, and the</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">// RefRR is the same as the register in RefA, and the set DefRRs is empty.</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">//</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment">// [1] It is possible for multiple phi nodes to be included in the returned</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">// sequence:</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment">//   SubA = phi ...</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment">//   SubB = phi ...</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment">//   ...  = SuperAB(rdef:SubA), SuperAB&quot;(rdef:SubB)</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment">// However, these phi nodes are independent from one another in terms of</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment">// the data-flow.</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">  106</a></span><a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">Liveness::getAllReachingDefs</a>(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RefRR,</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> RefA, <span class="keywordtype">bool</span> TopShadows, <span class="keywordtype">bool</span> FullChain,</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;DefRRs) {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> RDefs; <span class="comment">// Return value.</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  <a class="code hl_class" href="classllvm_1_1SetVector.html">SetVector&lt;NodeId&gt;</a> DefQ;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <a class="code hl_class" href="classllvm_1_1SetVector.html">SetVector&lt;NodeId&gt;</a> Owners;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <span class="comment">// Dead defs will be treated as if they were live, since they are actually</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  <span class="comment">// on the data-flow path. They cannot be ignored because even though they</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <span class="comment">// do not generate meaningful values, they still modify registers.</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>  <span class="comment">// If the reference is undefined, there is nothing to do.</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  <span class="keywordflow">if</span> (RefA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551">NodeAttrs::Undef</a>)</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="keywordflow">return</span> RDefs;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  <span class="comment">// The initial queue should not have reaching defs for shadows. The</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  <span class="comment">// whole point of a shadow is that it will have a reaching def that</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  <span class="comment">// is not aliased to the reaching defs of the related shadows.</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  <a class="code hl_class" href="classuint32__t.html">NodeId</a> Start = RefA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>  <span class="keyword">auto</span> SNA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1RefNode.html">RefNode</a>*&gt;(Start);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classuint32__t.html">NodeId</a> RD = SNA.Addr-&gt;getReachingDef())</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(RD);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  <span class="keywordflow">if</span> (TopShadows) {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> S : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ae5d8f79792dfebea3c0df02ddbe490cf">getRelatedRefs</a>(RefA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG), RefA))</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classuint32__t.html">NodeId</a> RD = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a>(S).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachingDef())</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(RD);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>  <span class="comment">// Collect all the reaching defs, going up until a phi node is encountered,</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>  <span class="comment">// or there are no more reaching defs. From this set, the actual set of</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>  <span class="comment">// reaching defs will be selected.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>  <span class="comment">// The traversal upwards must go on until a covering def is encountered.</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  <span class="comment">// It is possible that a collection of non-covering (individually) defs</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <span class="comment">// will be sufficient, but keep going until a covering one is found.</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++i) {</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keyword">auto</span> TA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(DefQ[i]);</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keywordflow">if</span> (TA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>)</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// Stop at the covering/overwriting def of the initial register reference.</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RR = TA.Addr-&gt;getRegRef(DFG);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keywordflow">if</span> (!DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a3e31b11f239b824b8a27ab8936a14b8f">IsPreservingDef</a>(TA))</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#aebb69ff57b201dee748ce7fe7f22ff1b">RegisterAggr::isCoverOf</a>(RR, RefRR, PRI))</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">// Get the next level of reaching defs. This will include multiple</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="comment">// reaching defs for shadows.</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> S : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ae5d8f79792dfebea3c0df02ddbe490cf">getRelatedRefs</a>(TA.Addr-&gt;getOwner(DFG), TA))</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classuint32__t.html">NodeId</a> RD = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a>(S).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachingDef())</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(RD);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  }</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="comment">// Remove all non-phi defs that are not aliased to RefRR, and collect</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="comment">// the owners of the remaining defs.</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <a class="code hl_class" href="classllvm_1_1SetVector.html">SetVector&lt;NodeId&gt;</a> Defs;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint32__t.html">NodeId</a> <a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : DefQ) {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keyword">auto</span> TA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="keywordtype">bool</span> IsPhi = TA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="keywordflow">if</span> (!IsPhi &amp;&amp; !PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a9dad4dca6c149dcc5a2138f9c3ca50d6">alias</a>(RefRR, TA.Addr-&gt;getRegRef(DFG)))</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    Defs.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(TA.Id);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    Owners.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(TA.Addr-&gt;getOwner(DFG).Id);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  <span class="comment">// Return the MachineBasicBlock containing a given instruction.</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <span class="keyword">auto</span> Block = [<span class="keyword">this</span>] (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> IA) -&gt; <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>* {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="keywordflow">if</span> (IA.Addr-&gt;getKind() == <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da91376b865b14d172148590ff1c69e403">NodeAttrs::Stmt</a>)</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>      <span class="keywordflow">return</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;StmtNode*&gt;</a>(IA).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode()-&gt;getParent();</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IA.Addr-&gt;getKind() == <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">NodeAttrs::Phi</a>);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiNode*&gt;</a> PA = IA;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA = PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordflow">return</span> BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode();</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  };</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  <span class="comment">// Less(A,B) iff instruction A is further down in the dominator tree than B.</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>  <span class="keyword">auto</span> Less = [&amp;Block,<span class="keyword">this</span>] (<a class="code hl_class" href="classuint32__t.html">NodeId</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>, <a class="code hl_class" href="classuint32__t.html">NodeId</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a> == <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>)</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keyword">auto</span> OA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1InstrNode.html">InstrNode</a>*&gt;(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>), OB = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1InstrNode.html">InstrNode</a>*&gt;(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BA = Block(OA), *BB = Block(OB);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keywordflow">if</span> (BA != BB)</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>      <span class="keywordflow">return</span> MDT.<a class="code hl_function" href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">dominates</a>(BB, BA);</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">// They are in the same block.</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordtype">bool</span> StmtA = OA.Addr-&gt;getKind() == <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da91376b865b14d172148590ff1c69e403">NodeAttrs::Stmt</a>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordtype">bool</span> StmtB = OB.Addr-&gt;getKind() == <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da91376b865b14d172148590ff1c69e403">NodeAttrs::Stmt</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordflow">if</span> (StmtA) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>      <span class="keywordflow">if</span> (!StmtB)   <span class="comment">// OB is a phi and phis dominate statements.</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>      <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CA = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;StmtNode*&gt;</a>(OA).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode();</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>      <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *CB = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;StmtNode*&gt;</a>(OB).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode();</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>      <span class="comment">// The order must be linear, so tie-break such equalities.</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>      <span class="keywordflow">if</span> (CA == CB)</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a> &lt; <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>      <span class="keywordflow">return</span> MDT.<a class="code hl_function" href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">dominates</a>(CB, CA);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>      <span class="comment">// OA is a phi.</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>      <span class="keywordflow">if</span> (StmtB)</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>      <span class="comment">// Both are phis. There is no ordering between phis (in terms of</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>      <span class="comment">// the data-flow), so tie-break this via node id comparison.</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a> &lt; <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  };</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>  std::vector&lt;NodeId&gt; Tmp(Owners.<a class="code hl_function" href="classllvm_1_1SetVector.html#adb13793b98ab59209a5309d26f831850">begin</a>(), Owners.<a class="code hl_function" href="classllvm_1_1SetVector.html#affac0dc3d407ef3dee29b8bc9a4836bc">end</a>());</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>  <a class="code hl_function" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Tmp, Less);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <span class="comment">// The vector is a list of instructions, so that defs coming from</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  <span class="comment">// the same instruction don&#39;t need to be artificially ordered.</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  <span class="comment">// Then, when computing the initial segment, and iterating over an</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <span class="comment">// instruction, pick the defs that contribute to the covering (i.e. is</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  <span class="comment">// not covered by previously added defs). Check the defs individually,</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>  <span class="comment">// i.e. first check each def if is covered or not (without adding them</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>  <span class="comment">// to the tracking set), and then add all the selected ones.</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  <span class="comment">// The reason for this is this example:</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <span class="comment">// *d1&lt;A&gt;, *d2&lt;B&gt;, ... Assume A and B are aliased (can happen in phi nodes).</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  <span class="comment">// *d3&lt;C&gt;              If A \incl BuC, and B \incl AuC, then *d2 would be</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  <span class="comment">//                     covered if we added A first, and A would be covered</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  <span class="comment">//                     if we added B first.</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> RRs(DefRRs);</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <span class="keyword">auto</span> DefInSet = [&amp;Defs] (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> TA) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">return</span> TA.Addr-&gt;getKind() == <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1dacde70c4b68233671ba64c60b7ec08238">NodeAttrs::Def</a> &amp;&amp;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>           Defs.<a class="code hl_function" href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">count</a>(TA.Id);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  };</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint32__t.html">NodeId</a> <a class="code hl_class" href="classT.html">T</a> : Tmp) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keywordflow">if</span> (!FullChain &amp;&amp; RRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">hasCoverOf</a>(RefRR))</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keyword">auto</span> TA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1InstrNode.html">InstrNode</a>*&gt;(<a class="code hl_class" href="classT.html">T</a>);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="keywordtype">bool</span> IsPhi = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ac09bdafb00560bd3f4c0e33ac1a5be29">IsCode</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">NodeAttrs::Phi</a>&gt;(TA);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Ds;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DA : TA.Addr-&gt;members_if(DefInSet, DFG)) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> QR = DA.Addr-&gt;getRegRef(DFG);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>      <span class="comment">// Add phi defs even if they are covered by subsequent defs. This is</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>      <span class="comment">// for cases where the reached use is not covered by any of the defs</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>      <span class="comment">// encountered so far: the phi def is needed to expose the liveness</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>      <span class="comment">// of that use to the entry of the block.</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>      <span class="comment">// Example:</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>      <span class="comment">//   phi d1&lt;R3&gt;(,d2,), ...  Phi def d1 is covered by d2.</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>      <span class="comment">//   d2&lt;R3&gt;(d1,,u3), ...</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>      <span class="comment">//   ..., u3&lt;D1&gt;(d2)        This use needs to be live on entry.</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>      <span class="keywordflow">if</span> (FullChain || IsPhi || !RRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">hasCoverOf</a>(QR))</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        Ds.push_back(DA);</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    RDefs.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(RDefs.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), Ds.begin(), Ds.end());</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DA : Ds) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>      <span class="comment">// When collecting a full chain of definitions, do not consider phi</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>      <span class="comment">// defs to actually define a register.</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>      uint16_t Flags = DA.Addr-&gt;getFlags();</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>      <span class="keywordflow">if</span> (!FullChain || !(Flags &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>))</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <span class="keywordflow">if</span> (!(Flags &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da64fd1d9beb2a27391a05ee1d6d51b6e0">NodeAttrs::Preserving</a>)) <span class="comment">// Don&#39;t care about Undef here.</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>          RRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">insert</a>(DA.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="keyword">auto</span> DeadP = [](<span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DA) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="keywordflow">return</span> DA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da71d294f05b9e9fa97d22c44e016bbbf9">NodeAttrs::Dead</a>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  };</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  RDefs.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(std::distance(RDefs.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">begin</a>(), <a class="code hl_function" href="namespacellvm.html#a99eced173a909993b89cc0a22e579aeb">llvm::remove_if</a>(RDefs, DeadP)));</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  <span class="keywordflow">return</span> RDefs;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>}</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>std::pair&lt;NodeSet,bool&gt;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#ad02e81a5027973d366e67e79468508be">  269</a></span><a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#ad02e81a5027973d366e67e79468508be">Liveness::getAllReachingDefsRec</a>(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RefRR, <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> RefA,</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>      <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> &amp;Visited, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> &amp;Defs) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="keywordflow">return</span> getAllReachingDefsRecImpl(RefRR, RefA, Visited, Defs, 0, <a class="code hl_variable" href="RDFLiveness_8cpp.html#a9d96a5052466b04ba46179d0a0bb3420">MaxRecNest</a>);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>}</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>std::pair&lt;NodeSet,bool&gt;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>Liveness::getAllReachingDefsRecImpl(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RefRR, <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> RefA,</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>      <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> &amp;Visited, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> &amp;Defs, <span class="keywordtype">unsigned</span> Nest, <span class="keywordtype">unsigned</span> MaxNest) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>  <span class="keywordflow">if</span> (Nest &gt; MaxNest)</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keywordflow">return</span> { <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a>(), <span class="keyword">false</span> };</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  <span class="comment">// Collect all defined registers. Do not consider phis to be defining</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  <span class="comment">// anything, only collect &quot;real&quot; definitions.</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> DefRRs(PRI);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="keywordflow">for</span> (<a class="code hl_typedef" href="namespacellvm_1_1rdf.html#a866914ea356d1b06b005de04790d20e3">NodeId</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> : Defs) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="keyword">const</span> <span class="keyword">auto</span> DA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <span class="keywordflow">if</span> (!(DA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>))</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>      DefRRs.insert(DA.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <a class="code hl_struct" href="structNodeList.html">NodeList</a> RDs = <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">getAllReachingDefs</a>(RefRR, RefA, <span class="keyword">false</span>, <span class="keyword">true</span>, DefRRs);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <span class="keywordflow">if</span> (RDs.empty())</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">return</span> { Defs, <span class="keyword">true</span> };</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <span class="comment">// Make a copy of the preexisting definitions and add the newly found ones.</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  <a class="code hl_class" href="classllvm_1_1NodeSet.html">NodeSet</a> TmpDefs = Defs;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;NodeBase*&gt;</a> R : RDs)</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    TmpDefs.<a class="code hl_function" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(<a class="code hl_enumvalue" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.Id);</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  <a class="code hl_class" href="classllvm_1_1NodeSet.html">NodeSet</a> <a class="code hl_enumvalue" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = Defs;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DA : RDs) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <a class="code hl_enumvalue" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.insert(DA.Id);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="keywordflow">if</span> (!(DA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>))</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiNode*&gt;</a> PA = DA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordflow">if</span> (Visited.<a class="code hl_function" href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">count</a>(PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>))</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    Visited.<a class="code hl_function" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>);</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="comment">// Go over all phi uses and get the reaching defs for each use.</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> U : PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">IsRef</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1daf9dd39c923393e08fbf871e15cc530b2">NodeAttrs::Use</a>&gt;, DFG)) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classT.html">T</a> = getAllReachingDefsRecImpl(RefRR, U, Visited, TmpDefs,</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                                                Nest+1, MaxNest);</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>      <span class="keywordflow">if</span> (!<a class="code hl_class" href="classT.html">T</a>.second)</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        <span class="keywordflow">return</span> { <a class="code hl_class" href="classT.html">T</a>.first, <span class="keyword">false</span> };</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>      <a class="code hl_enumvalue" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>.insert(<a class="code hl_class" href="classT.html">T</a>.first.begin(), <a class="code hl_class" href="classT.html">T</a>.first.end());</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>, <span class="keyword">true</span> };</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>}</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment"></span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">/// Find the nearest ref node aliased to RefRR, going upwards in the data</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">/// flow, starting from the instruction immediately preceding Inst.</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#afac839608209fd2c47eee4e56b14016e">  322</a></span><span class="comment"></span><a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#afac839608209fd2c47eee4e56b14016e">Liveness::getNearestAliasedRef</a>(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RefRR,</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> IA) {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA = IA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG);</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Ins = BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members(DFG);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>  <a class="code hl_class" href="classuint32__t.html">NodeId</a> FindId = IA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = Ins.rend();</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> = std::find_if(Ins.rbegin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>,</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                        [FindId] (<span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> <a class="code hl_class" href="classT.html">T</a>) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                          return T.Id == FindId;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                        });</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>  <span class="comment">// Do not scan IA (which is what B would point to).</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>)</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    ++<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="comment">// Process the range of instructions from B to E.</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_function" href="namespacellvm.html#a341215803e83773a3e97860dc291f121">make_range</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>)) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>      <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Refs = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.Addr-&gt;members(DFG);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> Clob, <a class="code hl_class" href="classllvm_1_1Use.html">Use</a>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>      <span class="comment">// Scan all the refs in I aliased to RefRR, and return the one that</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>      <span class="comment">// is the closest to the output of I, i.e. def &gt; clobber &gt; use.</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>      <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> R : Refs) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <span class="keywordflow">if</span> (!PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a9dad4dca6c149dcc5a2138f9c3ca50d6">alias</a>(R.Addr-&gt;getRegRef(DFG), RefRR))</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="keywordflow">if</span> (DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#abdfa454207ee8cc0f726a82fd85c2742">IsDef</a>(R)) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>          <span class="comment">// If it&#39;s a non-clobbering def, just return it.</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>          <span class="keywordflow">if</span> (!(R.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1daccc816e76d83a88e73d024590c88260f">NodeAttrs::Clobbering</a>))</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            <span class="keywordflow">return</span> R;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>          Clob = R;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>          <a class="code hl_class" href="classllvm_1_1Use.html">Use</a> = R;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>      }</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>      <span class="keywordflow">if</span> (Clob.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a> != 0)</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="keywordflow">return</span> Clob;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Use.html">Use</a>.Id != 0)</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classllvm_1_1Use.html">Use</a>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="comment">// Go up to the immediate dominator, if any.</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BB = BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode();</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    BA = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a>();</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1DomTreeNodeBase.html">MachineDomTreeNode</a> *<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = MDT.<a class="code hl_function" href="classllvm_1_1MachineDominatorTree.html#a4ff835b6fc92fa02da2e5f2e772afa91">getNode</a>(BB)) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>      <span class="keywordflow">if</span> ((<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = <a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getIDom()))</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        BA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a1b929863993690e0bdd02c1b0d94c5eb">findBlock</a>(<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getBlock());</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    }</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">if</span> (!BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>)</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    Ins = BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members(DFG);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> = Ins.rbegin();</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = Ins.rend();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>  <span class="keywordflow">return</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a>();</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>}</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#a46697a9e0a45c7a082dec072487bd3c1">  379</a></span><a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a46697a9e0a45c7a082dec072487bd3c1">Liveness::getAllReachedUses</a>(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RefRR,</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DefA, <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;DefRRs) {</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <span class="comment">// If the original register is already covered by all the intervening</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  <span class="comment">// defs, no more uses can be reached.</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>  <span class="keywordflow">if</span> (DefRRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">hasCoverOf</a>(RefRR))</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  <span class="comment">// Add all directly reached uses.</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>  <span class="comment">// If the def is dead, it does not provide a value for any use.</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a> = DefA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da71d294f05b9e9fa97d22c44e016bbbf9">NodeAttrs::Dead</a>;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>  <a class="code hl_class" href="classuint32__t.html">NodeId</a> U = !<a class="code hl_variable" href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a> ? DefA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachedUse() : 0;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  <span class="keywordflow">while</span> (U != 0) {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="keyword">auto</span> UA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1UseNode.html">UseNode</a>*&gt;(U);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordflow">if</span> (!(UA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551">NodeAttrs::Undef</a>)) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> UR = UA.Addr-&gt;getRegRef(DFG);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>      <span class="keywordflow">if</span> (PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a9dad4dca6c149dcc5a2138f9c3ca50d6">alias</a>(RefRR, UR) &amp;&amp; !DefRRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">hasCoverOf</a>(UR))</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a>.insert(U);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    U = UA.Addr-&gt;getSibling();</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>  <span class="comment">// Traverse all reached defs. This time dead defs cannot be ignored.</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classuint32__t.html">NodeId</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> = DefA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachedDef(), NextD; <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> != 0; <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> = NextD) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="keyword">auto</span> DA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    NextD = DA.Addr-&gt;<a class="code hl_function" href="structllvm_1_1rdf_1_1RefNode.html#a37650e1cbcdcbae779a3b0b09367d067">getSibling</a>();</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> DR = DA.Addr-&gt;getRegRef(DFG);</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="comment">// If this def is already covered, it cannot reach anything new.</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="comment">// Similarly, skip it if it is not aliased to the interesting register.</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="keywordflow">if</span> (DefRRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">hasCoverOf</a>(DR) || !PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a9dad4dca6c149dcc5a2138f9c3ca50d6">alias</a>(RefRR, DR))</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> <a class="code hl_class" href="classT.html">T</a>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordflow">if</span> (DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a3e31b11f239b824b8a27ab8936a14b8f">IsPreservingDef</a>(DA)) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>      <span class="comment">// If it is a preserving def, do not update the set of intervening defs.</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>      <a class="code hl_class" href="classT.html">T</a> = <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a46697a9e0a45c7a082dec072487bd3c1">getAllReachedUses</a>(RefRR, DA, DefRRs);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> NewDefRRs = DefRRs;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>      NewDefRRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">insert</a>(DR);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>      <a class="code hl_class" href="classT.html">T</a> = <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a46697a9e0a45c7a082dec072487bd3c1">getAllReachedUses</a>(RefRR, DA, NewDefRRs);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a>.insert(<a class="code hl_class" href="classT.html">T</a>.begin(), <a class="code hl_class" href="classT.html">T</a>.end());</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>  }</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>}</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#adee443b7259dcf9e3784f7e674970dad">  425</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#adee443b7259dcf9e3784f7e674970dad">Liveness::computePhiInfo</a>() {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>  RealUseMap.clear();</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Phis;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>  <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;FuncNode*&gt;</a> FA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a0f12648e76adb6b9bd87678a2157b869">getFunc</a>();</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Blocks = FA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members(DFG);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA : Blocks) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <span class="keyword">auto</span> Ps = BA.Addr-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ac09bdafb00560bd3f4c0e33ac1a5be29">IsCode</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">NodeAttrs::Phi</a>&gt;, DFG);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    Phis.<a class="code hl_function" href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">insert</a>(Phis.<a class="code hl_function" href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">end</a>(), Ps.begin(), Ps.end());</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  <span class="comment">// phi use -&gt; (map: reaching phi -&gt; set of registers defined in between)</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>  std::map&lt;NodeId,std::map&lt;NodeId,RegisterAggr&gt;&gt; PhiUp;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  std::vector&lt;NodeId&gt; PhiUQ;  <span class="comment">// Work list of phis for upward propagation.</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  std::map&lt;NodeId,RegisterAggr&gt; PhiDRs;  <span class="comment">// Phi -&gt; registers defined by it.</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  <span class="comment">// Go over all phis.</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiNode*&gt;</a> PhiA : Phis) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <span class="comment">// Go over all defs and collect the reached uses that are non-phi uses</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="comment">// (i.e. the &quot;real uses&quot;).</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;RealUses = RealUseMap[PhiA.Id];</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> PhiRefs = PhiA.Addr-&gt;members(DFG);</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <span class="comment">// Have a work queue of defs whose reached uses need to be found.</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="comment">// For each def, add to the queue all reached (non-phi) defs.</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <a class="code hl_class" href="classllvm_1_1SetVector.html">SetVector&lt;NodeId&gt;</a> DefQ;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> PhiDefs;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> DRs(PRI);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> R : PhiRefs) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>      <span class="keywordflow">if</span> (!DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">IsRef</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1dacde70c4b68233671ba64c60b7ec08238">NodeAttrs::Def</a>&gt;(R))</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>      DRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">insert</a>(R.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>      DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(R.Id);</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>      PhiDefs.<a class="code hl_function" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(R.Id);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    PhiDRs.insert(std::make_pair(PhiA.Id, DRs));</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="comment">// Collect the super-set of all possible reached uses. This set will</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="comment">// contain all uses reached from this phi, either directly from the</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="comment">// phi defs, or (recursively) via non-phi defs reached by the phi defs.</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="comment">// This set of uses will later be trimmed to only contain these uses that</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <span class="comment">// are actually reached by the phi defs.</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++i) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(DefQ[i]);</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      <span class="comment">// Visit all reached uses. Phi defs should not really have the &quot;dead&quot;</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>      <span class="comment">// flag set, but check it anyway for consistency.</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <span class="keywordtype">bool</span> <a class="code hl_variable" href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a> = DA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da71d294f05b9e9fa97d22c44e016bbbf9">NodeAttrs::Dead</a>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>      <a class="code hl_class" href="classuint32__t.html">NodeId</a> UN = !<a class="code hl_variable" href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a> ? DA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachedUse() : 0;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>      <span class="keywordflow">while</span> (UN != 0) {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;UseNode*&gt;</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a> = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1UseNode.html">UseNode</a>*&gt;(UN);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>        uint16_t <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Addr-&gt;getFlags();</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        <span class="keywordflow">if</span> ((<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp; (<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551">NodeAttrs::Undef</a> | <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>)) == 0) {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>          <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> R = PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a94e6621743c912df37ced36580ffcdfc">normalize</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>          RealUses[R.Reg].insert({<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Id,R.Mask});</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        }</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        UN = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Addr-&gt;getSibling();</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>      }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>      <span class="comment">// Visit all reached defs, and add them to the queue. These defs may</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>      <span class="comment">// override some of the uses collected here, but that will be handled</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>      <span class="comment">// later.</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>      <a class="code hl_class" href="classuint32__t.html">NodeId</a> DN = DA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachedDef();</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>      <span class="keywordflow">while</span> (DN != 0) {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a> = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(DN);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_class" href="classT.html">T</a> : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ae5d8f79792dfebea3c0df02ddbe490cf">getRelatedRefs</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Addr-&gt;getOwner(DFG), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>)) {</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>          uint16_t Flags = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a>(<a class="code hl_class" href="classT.html">T</a>).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getFlags();</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>          <span class="comment">// Must traverse the reached-def chain. Consider:</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>          <span class="comment">//   def(D0) -&gt; def(R0) -&gt; def(R0) -&gt; use(D0)</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>          <span class="comment">// The reachable use of D0 passes through a def of R0.</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>          <span class="keywordflow">if</span> (!(Flags &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>))</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            DefQ.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code hl_class" href="classT.html">T</a>.Id);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        DN = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a>.Addr-&gt;getSibling();</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>      }</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="comment">// Filter out these uses that appear to be reachable, but really</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="comment">// are not. For example:</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="comment">// R1:0 =          d1</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="comment">//      = R1:0     u2     Reached by d1.</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="comment">//   R0 =          d3</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="comment">//      = R1:0     u4     Still reached by d1: indirectly through</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="comment">//                        the def d3.</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <span class="comment">//   R1 =          d5</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="comment">//      = R1:0     u6     Not reached by d1 (covered collectively</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="comment">//                        by d3 and d5), but following reached</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="comment">//                        defs and uses from d1 will lead here.</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> UI = RealUses.begin(), UE = RealUses.end(); UI != UE; ) {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>      <span class="comment">// For each reached register UI-&gt;first, there is a set UI-&gt;second, of</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>      <span class="comment">// uses of it. For each such use, check if it is reached by this phi,</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>      <span class="comment">// i.e. check if the set of its reaching uses intersects the set of</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      <span class="comment">// this phi&#39;s defs.</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>      <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a4240b38f5ca0f004dcc832611a19094c">NodeRefSet</a> <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a> = UI-&gt;second;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>      UI-&gt;second.clear();</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>      <span class="keywordflow">for</span> (std::pair&lt;NodeId,LaneBitmask&gt; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a>) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <span class="keyword">auto</span> UA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1UseNode.html">UseNode</a>*&gt;(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        <span class="comment">// Undef flag is checked above.</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((UA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551">NodeAttrs::Undef</a>) == 0);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> R(UI-&gt;first, <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        <span class="comment">// Calculate the exposed part of the reached use.</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> Covered(PRI);</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> DA : <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">getAllReachingDefs</a>(R, UA)) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>          <span class="keywordflow">if</span> (PhiDefs.<a class="code hl_function" href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">count</a>(DA.Id))</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>          Covered.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">insert</a>(DA.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        }</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RC = Covered.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a65cdb708065271fdefb9fba495cf5d95">clearIn</a>(R)) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>          <span class="comment">// We are updating the map for register UI-&gt;first, so we need</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>          <span class="comment">// to map RC to be expressed in terms of that register.</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>          <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> S = PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#ad1e916faef142397ee6fdf5e6e1a5474">mapTo</a>(RC, UI-&gt;first);</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>          UI-&gt;second.insert({<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, S.<a class="code hl_variable" href="structllvm_1_1rdf_1_1RegisterRef.html#a5ad5cb9affeee19ca5894e5d950ea869">Mask</a>});</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>      }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>      UI = UI-&gt;second.empty() ? RealUses.erase(UI) : std::next(UI);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    }</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="comment">// If this phi reaches some &quot;real&quot; uses, add it to the queue for upward</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="comment">// propagation.</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keywordflow">if</span> (!RealUses.empty())</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>      PhiUQ.push_back(PhiA.Id);</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <span class="comment">// Go over all phi uses and check if the reaching def is another phi.</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <span class="comment">// Collect the phis that are among the reaching defs of these uses.</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="comment">// While traversing the list of reaching defs for each phi use, accumulate</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="comment">// the set of registers defined between this phi (PhiA) and the owner phi</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="comment">// of the reaching def.</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> SeenUses;</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : PhiRefs) {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>      <span class="keywordflow">if</span> (!DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">IsRef</a>&lt;<a class="code hl_class" href="classllvm_1_1Use.html">NodeAttrs::Use</a>&gt;(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || SeenUses.<a class="code hl_function" href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">count</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.Id))</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiUseNode*&gt;</a> PUA = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>      <span class="keywordflow">if</span> (PUA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachingDef() == 0)</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> UR = PUA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getRegRef(DFG);</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>      <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Ds = <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">getAllReachingDefs</a>(UR, PUA, <span class="keyword">true</span>, <span class="keyword">false</span>, NoRegs);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> DefRRs(PRI);</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>      <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> : Ds) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">NodeAttrs::PhiRef</a>) {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>          <a class="code hl_class" href="classuint32__t.html">NodeId</a> RP = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Addr-&gt;getOwner(DFG).Id;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>          std::map&lt;NodeId,RegisterAggr&gt; &amp;M = PhiUp[PUA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>];</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>          <span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = M.find(RP);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>          <span class="keywordflow">if</span> (<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> == M.end())</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            M.insert(std::make_pair(RP, DefRRs));</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>          <span class="keywordflow">else</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;second.insert(DefRRs);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>        }</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        DefRRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">insert</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>      }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>      <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiUseNode*&gt;</a> <a class="code hl_class" href="classT.html">T</a> : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ae5d8f79792dfebea3c0df02ddbe490cf">getRelatedRefs</a>(PhiA, PUA))</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        SeenUses.<a class="code hl_function" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(<a class="code hl_class" href="classT.html">T</a>.Id);</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    }</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Phi-up-to-phi map with intervening defs:\n&quot;</span>;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : PhiUp) {</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;phi &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;NodeId&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, DFG) &lt;&lt; <span class="stringliteral">&quot; -&gt; {&quot;</span>;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> R : <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second)</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;NodeId&gt;</a>(R.first, DFG)</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>               &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterAggr&gt;</a>(R.second, DFG);</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; }\n&quot;</span>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  }</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>  <span class="comment">// Propagate the reached registers up in the phi chain.</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>  <span class="comment">// The following type of situation needs careful handling:</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>  <span class="comment">//   phi d1&lt;R1:0&gt;  (1)</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>  <span class="comment">//        |</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>  <span class="comment">//   ... d2&lt;R1&gt;</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>  <span class="comment">//        |</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>  <span class="comment">//   phi u3&lt;R1:0&gt;  (2)</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>  <span class="comment">//        |</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>  <span class="comment">//   ... u4&lt;R1&gt;</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>  <span class="comment">// The phi node (2) defines a register pair R1:0, and reaches a &quot;real&quot;</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>  <span class="comment">// use u4 of just R1. The same phi node is also known to reach (upwards)</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>  <span class="comment">// the phi node (1). However, the use u4 is not reached by phi (1),</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  <span class="comment">// because of the intervening definition d2 of R1. The data flow between</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>  <span class="comment">// phis (1) and (2) is restricted to R1:0 minus R1, i.e. R0.</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>  <span class="comment">// When propagating uses up the phi chains, get the all reaching defs</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>  <span class="comment">// for a given phi use, and traverse the list until the propagated ref</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>  <span class="comment">// is covered, or until reaching the final phi. Only assume that the</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>  <span class="comment">// reference reaches the phi in the latter case.</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; PhiUQ.size(); ++i) {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <span class="keyword">auto</span> PA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1PhiNode.html">PhiNode</a>*&gt;(PhiUQ[i]);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> PUs = PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">IsRef</a>&lt;<a class="code hl_class" href="classllvm_1_1Use.html">NodeAttrs::Use</a>&gt;, DFG);</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;RUM = RealUseMap[PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>];</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;UseNode*&gt;</a> UA : PUs) {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>      std::map&lt;NodeId,RegisterAggr&gt; &amp;PUM = PhiUp[UA.Id];</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> UR = PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a94e6621743c912df37ced36580ffcdfc">normalize</a>(UA.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;NodeId,RegisterAggr&gt; &amp;<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> : PUM) {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;MidDefs = <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.second;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span> </div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="comment">// Collect the set PropUp of uses that are reached by the current</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <span class="comment">// phi PA, and are not covered by any intervening def between the</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="comment">// currently visited use UA and the upward phi P.</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span> </div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <span class="keywordflow">if</span> (MidDefs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">hasCoverOf</a>(UR))</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <span class="comment">// General algorithm:</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="comment">//   for each (R,U) : U is use node of R, U is reached by PA</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <span class="comment">//     if MidDefs does not cover (R,U)</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="comment">//       then add (R-MidDefs,U) to RealUseMap[P]</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;RegisterId,NodeRefSet&gt; &amp;<a class="code hl_class" href="classT.html">T</a> : RUM) {</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>          <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> R(<a class="code hl_class" href="classT.html">T</a>.first);</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>          <span class="comment">// The current phi (PA) could be a phi for a regmask. It could</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>          <span class="comment">// reach a whole variety of uses that are not related to the</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>          <span class="comment">// specific upward phi (P.first).</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>          <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;DRs = PhiDRs.at(<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.first);</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>          <span class="keywordflow">if</span> (!DRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a11eed31a4a2d388968084ca63ea3f928">hasAliasOf</a>(R))</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>          R = PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#ad1e916faef142397ee6fdf5e6e1a5474">mapTo</a>(DRs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#acbfda31693da28d8b0a67fbc6fdef351">intersectWith</a>(R), <a class="code hl_class" href="classT.html">T</a>.first);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>          <span class="keywordflow">for</span> (std::pair&lt;NodeId,LaneBitmask&gt; V : <a class="code hl_class" href="classT.html">T</a>.second) {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            <a class="code hl_struct" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> M = R.Mask &amp; V.second;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            <span class="keywordflow">if</span> (M.none())</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> SS = MidDefs.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a65cdb708065271fdefb9fba495cf5d95">clearIn</a>(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a>(R.Reg, M))) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>              <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a4240b38f5ca0f004dcc832611a19094c">NodeRefSet</a> &amp;RS = RealUseMap[<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.first][SS.Reg];</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>              Changed |= RS.insert({V.first,SS.Mask}).<a class="code hl_variable" href="HexagonShuffler_8cpp.html#af7633c5cbb76481bafd5e3e1ec07ca37">second</a>;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>            }</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>          }</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        }</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <span class="keywordflow">if</span> (Changed)</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>          PhiUQ.push_back(<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.first);</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>      }</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    }</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>  }</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Real use map:\n&quot;</span>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : RealUseMap) {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;phi &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;NodeId&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first, DFG);</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiNode*&gt;</a> PA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1PhiNode.html">PhiNode</a>*&gt;(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>      <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Ds = PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">IsRef</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1dacde70c4b68233671ba64c60b7ec08238">NodeAttrs::Def</a>&gt;, DFG);</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>      <span class="keywordflow">if</span> (!Ds.empty()) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RR = <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a>(Ds[0]).<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getRegRef(DFG);</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;&lt;&#39;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterRef&gt;</a>(RR, DFG) &lt;&lt; <span class="charliteral">&#39;&gt;&#39;</span>;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;&lt;noreg&gt;&quot;</span>;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>      }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>  }</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>}</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#ae325522c0a3e1a113ab70eeab9019779">  682</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#ae325522c0a3e1a113ab70eeab9019779">Liveness::computeLiveIns</a>() {</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>  <span class="comment">// Populate the node-to-block map. This speeds up the calculations</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>  <span class="comment">// significantly.</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>  NBMap.<a class="code hl_function" href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">clear</a>();</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a0f12648e76adb6b9bd87678a2157b869">getFunc</a>().Addr-&gt;members(DFG)) {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *BB = BA.Addr-&gt;getCode();</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> IA : BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members(DFG)) {</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>      <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;RefNode*&gt;</a> <a class="code hl_variable" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a> : IA.Addr-&gt;members(DFG))</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        NBMap.<a class="code hl_function" href="classllvm_1_1DenseMapBase.html#adb33f3ede2f5bfc9b3ee658aaf648492">insert</a>(std::make_pair(<a class="code hl_variable" href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a>.Id, BB));</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>      NBMap.<a class="code hl_function" href="classllvm_1_1DenseMapBase.html#adb33f3ede2f5bfc9b3ee658aaf648492">insert</a>(std::make_pair(IA.Id, BB));</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    }</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>  }</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span> </div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  <a class="code hl_class" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a772157ecd8233578fc88b4c03e5a84a3">getMF</a>();</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>  <span class="comment">// Compute IDF first, then the inverse.</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  <span class="keyword">decltype</span>(IIDF) IDF;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> : MF) {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="keyword">auto</span> F1 = MDF.<a class="code hl_function" href="classllvm_1_1MachineDominanceFrontier.html#a6ff0032da5ea4b0aaaf5ccf53bcbb239">find</a>(&amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>);</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="keywordflow">if</span> (F1 == MDF.<a class="code hl_function" href="classllvm_1_1MachineDominanceFrontier.html#adb7dab78b4801a40b04f09ba9484242a">end</a>())</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <a class="code hl_class" href="classllvm_1_1SetVector.html">SetVector&lt;MachineBasicBlock*&gt;</a> IDFB(F1-&gt;second.begin(), F1-&gt;second.end());</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; IDFB.<a class="code hl_function" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++i) {</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>      <span class="keyword">auto</span> F2 = MDF.<a class="code hl_function" href="classllvm_1_1MachineDominanceFrontier.html#a6ff0032da5ea4b0aaaf5ccf53bcbb239">find</a>(IDFB[i]);</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>      <span class="keywordflow">if</span> (F2 != MDF.<a class="code hl_function" href="classllvm_1_1MachineDominanceFrontier.html#adb7dab78b4801a40b04f09ba9484242a">end</a>())</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        IDFB.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(F2-&gt;second.begin(), F2-&gt;second.end());</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    }</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="comment">// Add B to the IDF(B). This will put B in the IIDF(B).</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    IDFB.<a class="code hl_function" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(&amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>);</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    IDF[&amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>].insert(IDFB.<a class="code hl_function" href="classllvm_1_1SetVector.html#adb13793b98ab59209a5309d26f831850">begin</a>(), IDFB.<a class="code hl_function" href="classllvm_1_1SetVector.html#affac0dc3d407ef3dee29b8bc9a4836bc">end</a>());</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : IDF)</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> S : <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second)</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>      IIDF[S].insert(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first);</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#adee443b7259dcf9e3784f7e674970dad">computePhiInfo</a>();</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;FuncNode*&gt;</a> FA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a0f12648e76adb6b9bd87678a2157b869">getFunc</a>();</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>  <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Blocks = FA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members(DFG);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <span class="comment">// Build the phi live-on-entry map.</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA : Blocks) {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MB = BA.Addr-&gt;getCode();</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;LON = PhiLON[MB];</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> : BA.Addr-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ac09bdafb00560bd3f4c0e33ac1a5be29">IsCode</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">NodeAttrs::Phi</a>&gt;, DFG))</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> RefMap::value_type &amp;S : RealUseMap[<a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.Id])</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        LON[S.first].insert(S.second.begin(), S.second.end());</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>  }</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Phi live-on-entry map:\n&quot;</span>;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : PhiLON)</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;block #&quot;</span> &lt;&lt; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;getNumber() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>             &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  }</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>  <span class="comment">// Build the phi live-on-exit map. Each phi node has some set of reached</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>  <span class="comment">// &quot;real&quot; uses. Propagate this set backwards into the block predecessors</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>  <span class="comment">// through the reaching defs of the corresponding phi uses.</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA : Blocks) {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Phis = BA.Addr-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ac09bdafb00560bd3f4c0e33ac1a5be29">IsCode</a>&lt;<a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">NodeAttrs::Phi</a>&gt;, DFG);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiNode*&gt;</a> PA : Phis) {</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>      <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;RUs = RealUseMap[PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">Id</a>];</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>      <span class="keywordflow">if</span> (RUs.empty())</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>      <a class="code hl_typedef" href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">NodeSet</a> SeenUses;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> U : PA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">IsRef</a>&lt;<a class="code hl_class" href="classllvm_1_1Use.html">NodeAttrs::Use</a>&gt;, DFG)) {</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        <span class="keywordflow">if</span> (!SeenUses.<a class="code hl_function" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(U.Id).second)</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiUseNode*&gt;</a> PUA = U;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        <span class="keywordflow">if</span> (PUA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getReachingDef() == 0)</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        <span class="comment">// Each phi has some set (possibly empty) of reached &quot;real&quot; uses,</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>        <span class="comment">// that is, uses that are part of the compiled program. Such a use</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <span class="comment">// may be located in some farther block, but following a chain of</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        <span class="comment">// reaching defs will eventually lead to this phi.</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="comment">// Any chain of reaching defs may fork at a phi node, but there</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        <span class="comment">// will be a path upwards that will lead to this phi. Now, this</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        <span class="comment">// chain will need to fork at this phi, since some of the reached</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        <span class="comment">// uses may have definitions joining in from multiple predecessors.</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        <span class="comment">// For each reached &quot;real&quot; use, identify the set of reaching defs</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        <span class="comment">// coming from each predecessor P, and add them to PhiLOX[P].</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>        <span class="comment">//</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        <span class="keyword">auto</span> PrA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1BlockNode.html">BlockNode</a>*&gt;(PUA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getPredecessor());</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;LOX = PhiLOX[PrA.Addr-&gt;getCode()];</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;RegisterId,NodeRefSet&gt; &amp;RS : RUs) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>          <span class="comment">// We need to visit each individual use.</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>          <span class="keywordflow">for</span> (std::pair&lt;NodeId,LaneBitmask&gt; <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> : RS.second) {</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>            <span class="comment">// Create a register ref corresponding to the use, and find</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>            <span class="comment">// all reaching defs starting from the phi use, and treating</span></div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>            <span class="comment">// all related shadows as a single use cluster.</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>            <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> S(RS.first, <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.second);</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            <a class="code hl_class" href="classllvm_1_1SmallVector.html">NodeList</a> Ds = <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">getAllReachingDefs</a>(S, PUA, <span class="keyword">true</span>, <span class="keyword">false</span>, NoRegs);</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> : Ds) {</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>              <span class="comment">// Calculate the mask corresponding to the visited def.</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>              <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> TA(PRI);</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>              TA.insert(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Addr-&gt;getRegRef(DFG)).intersect(S);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>              <a class="code hl_struct" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> TM = TA.makeRegRef().Mask;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>              LOX[S.<a class="code hl_variable" href="structllvm_1_1rdf_1_1RegisterRef.html#aff344ef4b411a5f449ef8839d98f1750">Reg</a>].insert({<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Id, TM});</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>            }</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>          }</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        }</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span> </div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;PhiUseNode*&gt;</a> <a class="code hl_class" href="classT.html">T</a> : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ae5d8f79792dfebea3c0df02ddbe490cf">getRelatedRefs</a>(PA, PUA))</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>          SeenUses.<a class="code hl_function" href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">insert</a>(<a class="code hl_class" href="classT.html">T</a>.Id);</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>      }  <span class="comment">// for U : phi uses</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    }  <span class="comment">// for P : Phis</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  }  <span class="comment">// for B : Blocks</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Phi live-on-exit map:\n&quot;</span>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : PhiLOX)</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;block #&quot;</span> &lt;&lt; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first-&gt;getNumber() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>             &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>  }</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>  <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> LiveIn;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>  traverse(&amp;MF.<a class="code hl_function" href="classllvm_1_1MachineFunction.html#ac8ca28de0f4dcee651340e7ef0c45233">front</a>(), LiveIn);</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span> </div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  <span class="comment">// Add function live-ins to the live-in set of the function entry block.</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>  LiveMap[&amp;MF.<a class="code hl_function" href="classllvm_1_1MachineFunction.html#ac8ca28de0f4dcee651340e7ef0c45233">front</a>()].insert(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a075bd3b473f35178716fa6804a580289">getLiveIns</a>());</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span> </div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <span class="comment">// Dump the liveness map</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> : MF) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>      std::vector&lt;RegisterRef&gt; LV;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.livein_begin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.livein_end(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        LV.push_back(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;PhysReg, <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;LaneMask));</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>      <a class="code hl_function" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(LV);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code hl_function" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>) &lt;&lt; <span class="stringliteral">&quot;\t rec = {&quot;</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : LV)</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterRef&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFG);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; }\n&quot;</span>;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>      <span class="comment">//dbgs() &lt;&lt; &quot;\tcomp = &quot; &lt;&lt; Print&lt;RegisterAggr&gt;(LiveMap[&amp;B], DFG) &lt;&lt; &#39;\n&#39;;</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>      LV.clear();</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>      <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;LG = LiveMap[&amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>];</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LG.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#adb89ac68dc79bcd8b11036d562b08c0d">rr_begin</a>(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = LG.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a1003b14cdf697f6f504f0e077fdfad7f">rr_end</a>(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        LV.push_back(*<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>      <a class="code hl_function" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(LV);</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\tcomp = {&quot;</span>;</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : LV)</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterRef&gt;</a>(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, DFG);</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; }\n&quot;</span>;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span> </div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    }</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>}</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#ad90179063514e043a3e531d1399c91d3">  835</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#ad90179063514e043a3e531d1399c91d3">Liveness::resetLiveIns</a>() {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a772157ecd8233578fc88b4c03e5a84a3">getMF</a>()) {</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="comment">// Remove all live-ins.</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    std::vector&lt;unsigned&gt; <a class="code hl_class" href="classT.html">T</a>;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.livein_begin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.livein_end(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>      <a class="code hl_class" href="classT.html">T</a>.push_back(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;PhysReg);</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_class" href="classT.html">T</a>)</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>      <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.removeLiveIn(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="comment">// Add the newly computed live-ins.</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;LiveIns = LiveMap[&amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>];</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LiveIns.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#adb89ac68dc79bcd8b11036d562b08c0d">rr_begin</a>(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = LiveIns.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a1003b14cdf697f6f504f0e077fdfad7f">rr_end</a>(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> R = *<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>      <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>.addLiveIn({<a class="code hl_typedef" href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">MCPhysReg</a>(R.Reg), R.Mask});</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  }</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>}</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#a02399bf387901e34c35c3c2be8050b1f">  852</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a02399bf387901e34c35c3c2be8050b1f">Liveness::resetKills</a>() {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a772157ecd8233578fc88b4c03e5a84a3">getMF</a>())</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a02399bf387901e34c35c3c2be8050b1f">resetKills</a>(&amp;<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>}</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span> </div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno"><a class="line" href="structllvm_1_1rdf_1_1Liveness.html#a70da560b6832c1b666f4f4bc4e3b98b0">  857</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a02399bf387901e34c35c3c2be8050b1f">Liveness::resetKills</a>(<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>) {</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>  <span class="keyword">auto</span> CopyLiveIns = [<span class="keyword">this</span>] (<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, <a class="code hl_class" href="classllvm_1_1BitVector.html">BitVector</a> &amp;LV) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>-&gt;liveins()) {</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>      <a class="code hl_class" href="classllvm_1_1MCSubRegIndexIterator.html">MCSubRegIndexIterator</a> S(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.PhysReg, &amp;TRI);</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>      <span class="keywordflow">if</span> (!S.<a class="code hl_function" href="classllvm_1_1MCSubRegIndexIterator.html#a4bc33f765fada85ad09c4910d122832d">isValid</a>()) {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        LV.set(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.PhysReg);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>      }</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>      <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        <a class="code hl_struct" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> M = TRI.<a class="code hl_function" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(S.<a class="code hl_function" href="classllvm_1_1MCSubRegIndexIterator.html#ac6da77ae7e55006bcd05c1c288235d13">getSubRegIndex</a>());</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        <span class="keywordflow">if</span> ((M &amp; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.LaneMask).any())</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>          LV.set(S.<a class="code hl_function" href="classllvm_1_1MCSubRegIndexIterator.html#aa4495c183fa9ad15daefa50743c3c705">getSubReg</a>());</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        ++S;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>      } <span class="keywordflow">while</span> (S.<a class="code hl_function" href="classllvm_1_1MCSubRegIndexIterator.html#a4bc33f765fada85ad09c4910d122832d">isValid</a>());</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    }</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>  };</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span> </div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>  <a class="code hl_class" href="classllvm_1_1BitVector.html">BitVector</a> LiveIn(TRI.<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>()), <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a4e86f60fbe61a3e52ab0ba9183cc3fe5">Live</a>(TRI.<a class="code hl_function" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>());</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>  CopyLiveIns(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, LiveIn);</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_enumvalue" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> : <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>-&gt;successors())</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    CopyLiveIns(<a class="code hl_enumvalue" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>, <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a4e86f60fbe61a3e52ab0ba9183cc3fe5">Live</a>);</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>-&gt;rbegin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>-&gt;rend(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; ++<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <a class="code hl_class" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = &amp;*<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isDebugInstr())</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;clearKillInfo();</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Op : <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>      <span class="comment">// An implicit def of a super-register may not necessarily start a</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>      <span class="comment">// live range of it, since an implicit use could be used to keep parts</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>      <span class="comment">// of it live. Instead of analyzing the implicit operands, ignore</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>      <span class="comment">// implicit defs.</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>      <span class="keywordflow">if</span> (!Op.isReg() || !Op.isDef() || Op.isImplicit())</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>      <span class="keywordtype">unsigned</span> R = Op.getReg();</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(R))</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MCSubRegIterator.html">MCSubRegIterator</a> SR(R, &amp;TRI, <span class="keyword">true</span>); SR.<a class="code hl_function" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++SR)</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a4e86f60fbe61a3e52ab0ba9183cc3fe5">Live</a>.reset(*SR);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    }</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Op : <a class="code hl_variable" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>      <span class="keywordflow">if</span> (!Op.isReg() || !Op.isUse() || Op.isUndef())</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>      <span class="keywordtype">unsigned</span> R = Op.getReg();</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">TargetRegisterInfo::isPhysicalRegister</a>(R))</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>      <span class="keywordtype">bool</span> IsLive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MCRegAliasIterator.html">MCRegAliasIterator</a> AR(R, &amp;TRI, <span class="keyword">true</span>); AR.<a class="code hl_function" href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">isValid</a>(); ++AR) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a4e86f60fbe61a3e52ab0ba9183cc3fe5">Live</a>[*AR])</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        IsLive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>      }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>      <span class="keywordflow">if</span> (!IsLive)</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        Op.setIsKill(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>      <span class="keywordflow">for</span> (<a class="code hl_class" href="classllvm_1_1MCSubRegIterator.html">MCSubRegIterator</a> SR(R, &amp;TRI, <span class="keyword">true</span>); SR.<a class="code hl_function" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++SR)</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>        <a class="code hl_variable" href="DeadArgumentElimination_8cpp.html#a4e86f60fbe61a3e52ab0ba9183cc3fe5">Live</a>.set(*SR);</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    }</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  }</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>}</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="comment">// Helper function to obtain the basic block containing the reaching def</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="comment">// of the given use.</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span><a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Liveness::getBlockWithRef(<a class="code hl_class" href="classuint32__t.html">NodeId</a> RN)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>  <span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = NBMap.<a class="code hl_function" href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">find</a>(RN);</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> != NBMap.<a class="code hl_function" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>())</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;second;</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <a class="code hl_define" href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Node id not in map&quot;</span>);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>}</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="keywordtype">void</span> Liveness::traverse(<a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, RefMap &amp;LiveIn) {</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>  <span class="comment">// The LiveIn map, for each (physical) register, contains the set of live</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>  <span class="comment">// reaching defs of that register that are live on entry to the associated</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>  <span class="comment">// block.</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span> </div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>  <span class="comment">// The summary of the traversal algorithm:</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>  <span class="comment">// R is live-in in B, if there exists a U(R), such that rdef(R) dom B</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>  <span class="comment">// and (U \in IDF(B) or B dom U).</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  <span class="comment">// for (C : children) {</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>  <span class="comment">//   LU = {}</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>  <span class="comment">//   traverse(C, LU)</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>  <span class="comment">//   LiveUses += LU</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>  <span class="comment">// }</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>  <span class="comment">// LiveUses -= Defs(B);</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>  <span class="comment">// LiveUses += UpwardExposedUses(B);</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>  <span class="comment">// for (C : IIDF[B])</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>  <span class="comment">//   for (U : LiveUses)</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>  <span class="comment">//     if (Rdef(U) dom C)</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>  <span class="comment">//       C.addLiveIn(U)</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span> </div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>  <span class="comment">// Go up the dominator tree (depth-first).</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>  <a class="code hl_class" href="classllvm_1_1DomTreeNodeBase.html">MachineDomTreeNode</a> *<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = MDT.<a class="code hl_function" href="classllvm_1_1MachineDominatorTree.html#a4ff835b6fc92fa02da2e5f2e772afa91">getNode</a>(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>);</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> L;</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <a class="code hl_class" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *SB = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBlock();</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    traverse(SB, L);</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span> </div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> S : L)</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>      LiveIn[S.first].insert(S.second.begin(), S.second.end());</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>  }</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span> </div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n-- &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(*<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; __func__</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>           &lt;&lt; <span class="stringliteral">&quot; after recursion into: {&quot;</span>;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : *<a class="code hl_define" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>      <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getBlock()-&gt;getNumber();</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; }\n&quot;</span>;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  LiveIn: &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(LiveIn, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Local:  &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterAggr&gt;</a>(LiveMap[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>], DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>  }</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span> </div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>  <span class="comment">// Add reaching defs of phi uses that are live on exit from this block.</span></div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;PUs = PhiLOX[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>];</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;S : PUs)</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    LiveIn[S.first].insert(S.second.begin(), S.second.end());</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span> </div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;after LOX\n&quot;</span>;</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  LiveIn: &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(LiveIn, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Local:  &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterAggr&gt;</a>(LiveMap[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>], DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>  }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>  <span class="comment">// The LiveIn map at this point has all defs that are live-on-exit from B,</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>  <span class="comment">// as if they were live-on-entry to B. First, we need to filter out all</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>  <span class="comment">// defs that are present in this block. Then we will add reaching defs of</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>  <span class="comment">// all upward-exposed uses.</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span> </div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>  <span class="comment">// To filter out the defs, first make a copy of LiveIn, and then re-populate</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>  <span class="comment">// LiveIn with the defs that should remain.</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>  <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> LiveInCopy = LiveIn;</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  LiveIn.clear();</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span> </div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;RegisterId,NodeRefSet&gt; &amp;LE : LiveInCopy) {</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> LRef(<a class="code hl_enumvalue" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">LE</a>.first);</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a4240b38f5ca0f004dcc832611a19094c">NodeRefSet</a> &amp;NewDefs = LiveIn[LRef.Reg]; <span class="comment">// To be filled.</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a4240b38f5ca0f004dcc832611a19094c">NodeRefSet</a> &amp;OldDefs = <a class="code hl_enumvalue" href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">LE</a>.second;</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a0f7fb4f645bdb6126514b53afbb8a676">NodeRef</a> <a class="code hl_variable" href="Options_8cpp.html#aff9bc1470d834576cfdb7cce0ebfb85f">OR</a> : OldDefs) {</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>      <span class="comment">// R is a def node that was live-on-exit</span></div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>      <span class="keyword">auto</span> DA = DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">addr</a>&lt;<a class="code hl_struct" href="structllvm_1_1rdf_1_1DefNode.html">DefNode</a>*&gt;(<a class="code hl_variable" href="Options_8cpp.html#aff9bc1470d834576cfdb7cce0ebfb85f">OR</a>.first);</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> IA = DA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG);</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BA = IA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG);</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a> != BA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode()) {</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        <span class="comment">// Defs from a different block need to be preserved. Defs from this</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <span class="comment">// block will need to be processed further, except for phi defs, the</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>        <span class="comment">// liveness of which is handled through the PhiLON/PhiLOX maps.</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        NewDefs.insert(<a class="code hl_variable" href="Options_8cpp.html#aff9bc1470d834576cfdb7cce0ebfb85f">OR</a>);</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>      }</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span> </div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>      <span class="comment">// Defs from this block need to stop the liveness from being</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>      <span class="comment">// propagated upwards. This only applies to non-preserving defs,</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>      <span class="comment">// and to the parts of the register actually covered by those defs.</span></div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>      <span class="comment">// (Note that phi defs should always be preserving.)</span></div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> RRs(PRI);</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>      LRef.Mask = <a class="code hl_variable" href="Options_8cpp.html#aff9bc1470d834576cfdb7cce0ebfb85f">OR</a>.second;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span> </div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>      <span class="keywordflow">if</span> (!DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a3e31b11f239b824b8a27ab8936a14b8f">IsPreservingDef</a>(DA)) {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(IA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">NodeAttrs::Phi</a>));</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        <span class="comment">// DA is a non-phi def that is live-on-exit from this block, and</span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>        <span class="comment">// that is also located in this block. LRef is a register ref</span></div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        <span class="comment">// whose use this def reaches. If DA covers LRef, then no part</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <span class="comment">// of LRef is exposed upwards.A</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>        <span class="keywordflow">if</span> (RRs.insert(DA.Addr-&gt;getRegRef(DFG)).hasCoverOf(LRef))</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>      }</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span> </div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>      <span class="comment">// DA itself was not sufficient to cover LRef. In general, it is</span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>      <span class="comment">// the last in a chain of aliased defs before the exit from this block.</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>      <span class="comment">// There could be other defs in this block that are a part of that</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>      <span class="comment">// chain. Check that now: accumulate the registers from these defs,</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>      <span class="comment">// and if they all together cover LRef, it is not live-on-entry.</span></div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>      <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> TA : <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">getAllReachingDefs</a>(DA)) {</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>        <span class="comment">// DefNode -&gt; InstrNode -&gt; BlockNode.</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> ITA = <a class="code hl_enumvalue" href="namespacellvm_1_1X86II.html#afcbcf7b2a1411ed04cb2e05bf017b283ad254d64df655ab661c3c3330610385af">TA</a>.Addr-&gt;getOwner(DFG);</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>        <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;BlockNode*&gt;</a> BTA = ITA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getOwner(DFG);</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>        <span class="comment">// Reaching defs are ordered in the upward direction.</span></div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        <span class="keywordflow">if</span> (BTA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getCode() != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>) {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>          <span class="comment">// We have reached past the beginning of B, and the accumulated</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>          <span class="comment">// registers are not covering LRef. The first def from the</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>          <span class="comment">// upward chain will be live.</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>          <span class="comment">// Subtract all accumulated defs (RRs) from LRef.</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>          <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> <a class="code hl_class" href="classT.html">T</a> = RRs.clearIn(LRef);</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>          <a class="code hl_function" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code hl_class" href="classT.html">T</a>);</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>          NewDefs.insert({<a class="code hl_enumvalue" href="namespacellvm_1_1X86II.html#afcbcf7b2a1411ed04cb2e05bf017b283ad254d64df655ab661c3c3330610385af">TA</a>.Id,<a class="code hl_class" href="classT.html">T</a>.Mask});</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>        }</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span> </div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>        <span class="comment">// TA is in B. Only add this def to the accumulated cover if it is</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="comment">// not preserving.</span></div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>        <span class="keywordflow">if</span> (!(<a class="code hl_enumvalue" href="namespacellvm_1_1X86II.html#afcbcf7b2a1411ed04cb2e05bf017b283ad254d64df655ab661c3c3330610385af">TA</a>.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da64fd1d9beb2a27391a05ee1d6d51b6e0">NodeAttrs::Preserving</a>))</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>          RRs.insert(<a class="code hl_enumvalue" href="namespacellvm_1_1X86II.html#afcbcf7b2a1411ed04cb2e05bf017b283ad254d64df655ab661c3c3330610385af">TA</a>.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        <span class="comment">// If this is enough to cover LRef, then stop.</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>        <span class="keywordflow">if</span> (RRs.hasCoverOf(LRef))</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>      }</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>  }</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span> </div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>  emptify(LiveIn);</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span> </div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;after defs in block\n&quot;</span>;</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  LiveIn: &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(LiveIn, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Local:  &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterAggr&gt;</a>(LiveMap[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>], DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>  }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>  <span class="comment">// Scan the block for upward-exposed uses and add them to the tracking set.</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#a0f12648e76adb6b9bd87678a2157b869">getFunc</a>().Addr-&gt;findBlock(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>, DFG).Addr-&gt;members(DFG)) {</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;InstrNode*&gt;</a> IA = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    <span class="keywordflow">if</span> (IA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;getKind() != <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da91376b865b14d172148590ff1c69e403">NodeAttrs::Stmt</a>)</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;UseNode*&gt;</a> UA : IA.<a class="code hl_variable" href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">Addr</a>-&gt;members_if(DFG.<a class="code hl_function" href="structllvm_1_1rdf_1_1DataFlowGraph.html#ab564126c8e445fbf57dc84a1745bcfb2">IsUse</a>, DFG)) {</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>      <span class="keywordflow">if</span> (UA.Addr-&gt;getFlags() &amp; <a class="code hl_enumvalue" href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551">NodeAttrs::Undef</a>)</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>      <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a> RR = PRI.<a class="code hl_function" href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a94e6621743c912df37ced36580ffcdfc">normalize</a>(UA.Addr-&gt;getRegRef(DFG));</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>      <span class="keywordflow">for</span> (<a class="code hl_struct" href="structllvm_1_1rdf_1_1NodeAddr.html">NodeAddr&lt;DefNode*&gt;</a> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a> : <a class="code hl_function" href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">getAllReachingDefs</a>(UA))</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        <span class="keywordflow">if</span> (getBlockWithRef(<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Id) != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>)</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>          LiveIn[RR.<a class="code hl_variable" href="structllvm_1_1rdf_1_1RegisterRef.html#aff344ef4b411a5f449ef8839d98f1750">Reg</a>].insert({<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a>.Id,RR.<a class="code hl_variable" href="structllvm_1_1rdf_1_1RegisterRef.html#a5ad5cb9affeee19ca5894e5d950ea869">Mask</a>});</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    }</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>  }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;after uses in block\n&quot;</span>;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  LiveIn: &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(LiveIn, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Local:  &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterAggr&gt;</a>(LiveMap[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>], DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>  }</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span> </div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>  <span class="comment">// Phi uses should not be propagated up the dominator tree, since they</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  <span class="comment">// are not dominated by their corresponding reaching defs.</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>  <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;<a class="code hl_enumvalue" href="namespacellvm_1_1pdb.html#a6bb7bf8c85135f7a1ff129776219989ea509820290d57f333403f490dde7316f4">Local</a> = LiveMap[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>];</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>  <a class="code hl_typedef" href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">RefMap</a> &amp;LON = PhiLON[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>];</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;R : LON) {</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <a class="code hl_struct" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code hl_enumvalue" href="namespacellvm_1_1ARM.html#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a>;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a> : <a class="code hl_enumvalue" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.second)</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>      <a class="code hl_enumvalue" href="namespacellvm_1_1ARM.html#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a> |= <a class="code hl_define" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>.second;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <a class="code hl_enumvalue" href="namespacellvm_1_1pdb.html#a6bb7bf8c85135f7a1ff129776219989ea509820290d57f333403f490dde7316f4">Local</a>.insert(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a>(<a class="code hl_enumvalue" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.first,M));</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>  }</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span> </div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classllvm_1_1Trace.html">Trace</a>) {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;after phi uses in block\n&quot;</span>;</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  LiveIn: &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RefMap&gt;</a>(LiveIn, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <a class="code hl_function" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Local:  &quot;</span> &lt;&lt; <a class="code hl_struct" href="structllvm_1_1rdf_1_1Print.html">Print&lt;RegisterAggr&gt;</a>(Local, DFG) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>  }</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a> : IIDF[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a>]) {</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    <a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterAggr.html">RegisterAggr</a> &amp;LiveC = LiveMap[<a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a>];</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;RegisterId,NodeRefSet&gt; &amp;S : LiveIn)</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> R : S.second)</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        <span class="keywordflow">if</span> (MDT.<a class="code hl_function" href="classllvm_1_1MachineDominatorTree.html#ab13bd8c59060a1a21651041796177f8a">properlyDominates</a>(getBlockWithRef(<a class="code hl_enumvalue" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.first), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a>))</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>          LiveC.<a class="code hl_function" href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">insert</a>(<a class="code hl_struct" href="structllvm_1_1rdf_1_1RegisterRef.html">RegisterRef</a>(S.first, <a class="code hl_enumvalue" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>.second));</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>  }</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>}</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span> </div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span><span class="keywordtype">void</span> Liveness::emptify(RefMap &amp;M) {</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_enumvalue" href="namespacellvm_1_1ARM.html#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a>.begin(), <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a> = <a class="code hl_enumvalue" href="namespacellvm_1_1ARM.html#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a>.end(); <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code hl_variable" href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a>; )</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second.empty() ? <a class="code hl_enumvalue" href="namespacellvm_1_1ARM.html#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">M</a>.erase(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) : std::next(<a class="code hl_define" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>}</div>
<div class="ttc" id="aBitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a11d755651840a5529d15260aacde92f3"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a11d755651840a5529d15260aacde92f3">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a3545a9491d4dcf823feb79f6eb37e3ee"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a3545a9491d4dcf823feb79f6eb37e3ee">A</a></div><div class="ttdeci">static GCRegistry::Add&lt; ErlangGC &gt; A(&quot;erlang&quot;, &quot;erlang-compatible garbage collector&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a694d9607a781d330039787de0726acc0"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a694d9607a781d330039787de0726acc0">C</a></div><div class="ttdeci">static GCRegistry::Add&lt; ShadowStackGC &gt; C(&quot;shadow-stack&quot;, &quot;Very portable GC for uncooperative code generators&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9cb3a7d37a9414f3dc2cdca773d6dee6"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9cb3a7d37a9414f3dc2cdca773d6dee6">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_ab5899ca200d34e3cc6bb09ebce5e5b3c"><div class="ttname"><a href="BuiltinGCs_8cpp.html#ab5899ca200d34e3cc6bb09ebce5e5b3c">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aDeadArgumentElimination_8cpp_html_a4e86f60fbe61a3e52ab0ba9183cc3fe5"><div class="ttname"><a href="DeadArgumentElimination_8cpp.html#a4e86f60fbe61a3e52ab0ba9183cc3fe5">Live</a></div><div class="ttdeci">SurveyUses This looks at all the uses of the given value Returns the Liveness deduced from the uses of this value Adds all uses that cause the result to be MaybeLive to MaybeLiveRetUses If the result is Live</div><div class="ttdef"><b>Definition:</b> <a href="DeadArgumentElimination_8cpp_source.html#l00463">DeadArgumentElimination.cpp:463</a></div></div>
<div class="ttc" id="aDeadArgumentElimination_8cpp_html_ad803921fc069868f5e116af2e3d4c819"><div class="ttname"><a href="DeadArgumentElimination_8cpp.html#ad803921fc069868f5e116af2e3d4c819">Uses</a></div><div class="ttdeci">MarkValue This function marks the liveness of RA depending on L If L is it also takes all uses in MaybeLiveUses and records them in Uses</div><div class="ttdef"><b>Definition:</b> <a href="DeadArgumentElimination_8cpp_source.html#l00658">DeadArgumentElimination.cpp:658</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aHexagonShuffler_8cpp_html_af7633c5cbb76481bafd5e3e1ec07ca37"><div class="ttname"><a href="HexagonShuffler_8cpp.html#af7633c5cbb76481bafd5e3e1ec07ca37">second</a></div><div class="ttdeci">unsigned second</div><div class="ttdef"><b>Definition:</b> <a href="HexagonShuffler_8cpp_source.html#l00221">HexagonShuffler.cpp:221</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00091">IRTranslator.cpp:91</a></div></div>
<div class="ttc" id="aLaneBitmask_8h_html"><div class="ttname"><a href="LaneBitmask_8h.html">LaneBitmask.h</a></div><div class="ttdoc">A common definition of LaneBitmask for use in TableGen and CodeGen.</div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aMachineDominanceFrontier_8h_html"><div class="ttname"><a href="MachineDominanceFrontier_8h.html">MachineDominanceFrontier.h</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aOption_8cpp_html_a04665169063c8ca1f2ea96c27fc7c2b2"><div class="ttname"><a href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a></div><div class="ttdeci">#define P(N)</div></div>
<div class="ttc" id="aOptions_8cpp_html_aff9bc1470d834576cfdb7cce0ebfb85f"><div class="ttname"><a href="Options_8cpp.html#aff9bc1470d834576cfdb7cce0ebfb85f">OR</a></div><div class="ttdeci">static ManagedStatic&lt; OptionRegistry &gt; OR</div><div class="ttdef"><b>Definition:</b> <a href="Options_8cpp_source.html#l00030">Options.cpp:30</a></div></div>
<div class="ttc" id="aRDFGraph_8h_html"><div class="ttname"><a href="RDFGraph_8h.html">RDFGraph.h</a></div></div>
<div class="ttc" id="aRDFLiveness_8cpp_html_a9d96a5052466b04ba46179d0a0bb3420"><div class="ttname"><a href="RDFLiveness_8cpp.html#a9d96a5052466b04ba46179d0a0bb3420">MaxRecNest</a></div><div class="ttdeci">static cl::opt&lt; unsigned &gt; MaxRecNest(&quot;rdf-liveness-max-rec&quot;, cl::init(25), cl::Hidden, cl::desc(&quot;Maximum recursion level&quot;))</div></div>
<div class="ttc" id="aRDFLiveness_8h_html"><div class="ttname"><a href="RDFLiveness_8h.html">RDFLiveness.h</a></div></div>
<div class="ttc" id="aRDFRegisters_8h_html"><div class="ttname"><a href="RDFRegisters_8h.html">RDFRegisters.h</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l06142">SIInstrInfo.cpp:6142</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a979659ec464cee64a84df219494fc2ea"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a979659ec464cee64a84df219494fc2ea">IsDead</a></div><div class="ttdeci">bool IsDead</div><div class="ttdef"><b>Definition:</b> <a href="SILowerControlFlow_8cpp_source.html#l00136">SILowerControlFlow.cpp:136</a></div></div>
<div class="ttc" id="aSIOptimizeExecMaskingPreRA_8cpp_html_a3e47bdb3e296b00df96eff7896fa57bf"><div class="ttname"><a href="SIOptimizeExecMaskingPreRA_8cpp.html#a3e47bdb3e296b00df96eff7896fa57bf">RA</a></div><div class="ttdeci">SI optimize exec mask operations pre RA</div><div class="ttdef"><b>Definition:</b> <a href="SIOptimizeExecMaskingPreRA_8cpp_source.html#l00075">SIOptimizeExecMaskingPreRA.cpp:75</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00073">BitVector.h:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a0c047f127ed4380a6f383d70bec4eb94"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a0c047f127ed4380a6f383d70bec4eb94">llvm::DenseMapBase::find</a></div><div class="ttdeci">iterator find(const_arg_type_t&lt; KeyT &gt; Val)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00176">DenseMap.h:176</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00108">DenseMap.h:108</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adb33f3ede2f5bfc9b3ee658aaf648492"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adb33f3ede2f5bfc9b3ee658aaf648492">llvm::DenseMapBase::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(const std::pair&lt; KeyT, ValueT &gt; &amp;KV)</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00221">DenseMap.h:221</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_adf4e7878fc0b3b8dcde545178564190d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#adf4e7878fc0b3b8dcde545178564190d">llvm::DenseMapBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00136">DenseMap.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1DomTreeNodeBase_html"><div class="ttname"><a href="classllvm_1_1DomTreeNodeBase.html">llvm::DomTreeNodeBase</a></div><div class="ttdoc">Base class for the actual dominator tree node.</div><div class="ttdef"><b>Definition:</b> <a href="GenericDomTree_8h_source.html#l00054">GenericDomTree.h:54</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegAliasIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html">llvm::MCRegAliasIterator</a></div><div class="ttdoc">MCRegAliasIterator enumerates all registers aliasing Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00668">MCRegisterInfo.h:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegAliasIterator_html_ac336c049c12ead7be5b86e6d046f8ab0"><div class="ttname"><a href="classllvm_1_1MCRegAliasIterator.html#ac336c049c12ead7be5b86e6d046f8ab0">llvm::MCRegAliasIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00693">MCRegisterInfo.h:693</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_a82f1c2dcfab9e27af4497fb0e13c4c6f"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00214">MCRegisterInfo.h:214</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_af946f316ed42f8b5eb99735a3b587ab5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const</div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00376">MCRegisterInfo.h:376</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIndexIterator_html"><div class="ttname"><a href="classllvm_1_1MCSubRegIndexIterator.html">llvm::MCSubRegIndexIterator</a></div><div class="ttdoc">Iterator that enumerates the sub-registers of a Reg and the associated sub-register indices.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00496">MCRegisterInfo.h:496</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIndexIterator_html_a4bc33f765fada85ad09c4910d122832d"><div class="ttname"><a href="classllvm_1_1MCSubRegIndexIterator.html#a4bc33f765fada85ad09c4910d122832d">llvm::MCSubRegIndexIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00519">MCRegisterInfo.h:519</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIndexIterator_html_aa4495c183fa9ad15daefa50743c3c705"><div class="ttname"><a href="classllvm_1_1MCSubRegIndexIterator.html#aa4495c183fa9ad15daefa50743c3c705">llvm::MCSubRegIndexIterator::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdoc">Returns current sub-register.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00509">MCRegisterInfo.h:509</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIndexIterator_html_ac6da77ae7e55006bcd05c1c288235d13"><div class="ttname"><a href="classllvm_1_1MCSubRegIndexIterator.html#ac6da77ae7e55006bcd05c1c288235d13">llvm::MCSubRegIndexIterator::getSubRegIndex</a></div><div class="ttdeci">unsigned getSubRegIndex() const</div><div class="ttdoc">Returns sub-register index of the current sub-register.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00514">MCRegisterInfo.h:514</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCSubRegIterator_html"><div class="ttname"><a href="classllvm_1_1MCSubRegIterator.html">llvm::MCSubRegIterator</a></div><div class="ttdoc">MCSubRegIterator enumerates all sub-registers of Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00483">MCRegisterInfo.h:483</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00065">MachineBasicBlock.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominanceFrontier_html_a6ff0032da5ea4b0aaaf5ccf53bcbb239"><div class="ttname"><a href="classllvm_1_1MachineDominanceFrontier.html#a6ff0032da5ea4b0aaaf5ccf53bcbb239">llvm::MachineDominanceFrontier::find</a></div><div class="ttdeci">iterator find(MachineBasicBlock *B)</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominanceFrontier_8h_source.html#l00069">MachineDominanceFrontier.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominanceFrontier_html_adb7dab78b4801a40b04f09ba9484242a"><div class="ttname"><a href="classllvm_1_1MachineDominanceFrontier.html#adb7dab78b4801a40b04f09ba9484242a">llvm::MachineDominanceFrontier::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominanceFrontier_8h_source.html#l00061">MachineDominanceFrontier.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_a4ff835b6fc92fa02da2e5f2e772afa91"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#a4ff835b6fc92fa02da2e5f2e772afa91">llvm::MachineDominatorTree::getNode</a></div><div class="ttdeci">MachineDomTreeNode * getNode(MachineBasicBlock *BB) const</div><div class="ttdoc">getNode - return the (Post)DominatorTree node for the specified basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00173">MachineDominators.h:173</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_a9b58c371c0cea5f9fc9722e253149f47"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#a9b58c371c0cea5f9fc9722e253149f47">llvm::MachineDominatorTree::dominates</a></div><div class="ttdeci">bool dominates(const MachineDomTreeNode *A, const MachineDomTreeNode *B) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00112">MachineDominators.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html_ab13bd8c59060a1a21651041796177f8a"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html#ab13bd8c59060a1a21651041796177f8a">llvm::MachineDominatorTree::properlyDominates</a></div><div class="ttdeci">bool properlyDominates(const MachineDomTreeNode *A, const MachineDomTreeNode *B) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00145">MachineDominators.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00222">MachineFunction.h:222</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ac8ca28de0f4dcee651340e7ef0c45233"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ac8ca28de0f4dcee651340e7ef0c45233">llvm::MachineFunction::front</a></div><div class="ttdeci">const MachineBasicBlock &amp; front() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00650">MachineFunction.h:650</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00064">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html"><div class="ttname"><a href="classllvm_1_1NodeSet.html">llvm::NodeSet</a></div><div class="ttdoc">A NodeSet contains a set of SUnit DAG nodes with additional information that assigns a priority to th...</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00359">MachinePipeliner.h:359</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_a56b9083f6d85aec6325b90028372d2e2"><div class="ttname"><a href="classllvm_1_1NodeSet.html#a56b9083f6d85aec6325b90028372d2e2">llvm::NodeSet::count</a></div><div class="ttdeci">unsigned count(SUnit *SU) const</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00389">MachinePipeliner.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1NodeSet_html_aba49350c71f099c58053900c4250b417"><div class="ttname"><a href="classllvm_1_1NodeSet.html#aba49350c71f099c58053900c4250b417">llvm::NodeSet::insert</a></div><div class="ttdeci">bool insert(SUnit *SU)</div><div class="ttdef"><b>Definition:</b> <a href="MachinePipeliner_8h_source.html#l00381">MachinePipeliner.h:381</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html"><div class="ttname"><a href="classllvm_1_1SetVector.html">llvm::SetVector</a></div><div class="ttdoc">A vector that has set insertion semantics.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00040">SetVector.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a18b9d328d2490f447589ba60345eba6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">llvm::SetVector::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00077">SetVector.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a21c2c6ae5ec23004dc4020eacf83bbce"><div class="ttname"><a href="classllvm_1_1SetVector.html#a21c2c6ae5ec23004dc4020eacf83bbce">llvm::SetVector::count</a></div><div class="ttdeci">size_type count(const key_type &amp;key) const</div><div class="ttdoc">Count the number of elements of a given key in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00210">SetVector.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_adb13793b98ab59209a5309d26f831850"><div class="ttname"><a href="classllvm_1_1SetVector.html#adb13793b98ab59209a5309d26f831850">llvm::SetVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdoc">Get an iterator to the beginning of the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00082">SetVector.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_affac0dc3d407ef3dee29b8bc9a4836bc"><div class="ttname"><a href="classllvm_1_1SetVector.html#affac0dc3d407ef3dee29b8bc9a4836bc">llvm::SetVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdoc">Get an iterator to the end of the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00092">SetVector.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a94d23373106467003722f7d6c17b1528"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a94d23373106467003722f7d6c17b1528">llvm::SmallVectorImpl::insert</a></div><div class="ttdeci">iterator insert(iterator I, T &amp;&amp;Elt)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00467">SmallVector.h:467</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00344">SmallVector.h:344</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorTemplateCommon_html_a075e34e98605d0e7c289763a104869ac"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a075e34e98605d0e7c289763a104869ac">llvm::SmallVectorTemplateCommon::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00129">SmallVector.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorTemplateCommon_html_a8a045d250952c0867382a9840ee18fdf"><div class="ttname"><a href="classllvm_1_1SmallVectorTemplateCommon.html#a8a045d250952c0867382a9840ee18fdf">llvm::SmallVectorTemplateCommon::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00127">SmallVector.h:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00837">SmallVector.h:837</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a055858b14215864ed367a8db6c19d6f6"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a055858b14215864ed367a8db6c19d6f6">llvm::TargetRegisterInfo::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00287">TargetRegisterInfo.h:287</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a7a23b6fb3b79b0c2bf4bf4f0cb042840"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">llvm::TargetRegisterInfo::getSubRegIndexLaneMask</a></div><div class="ttdeci">LaneBitmask getSubRegIndexLaneMask(unsigned SubIdx) const</div><div class="ttdoc">Return a bitmask representing the parts of a register that are covered by SubIdx.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00390">TargetRegisterInfo.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1Trace_html"><div class="ttname"><a href="classllvm_1_1Trace.html">llvm::Trace</a></div><div class="ttdef"><b>Definition:</b> <a href="Analysis_2Trace_8h_source.html#l00030">Trace.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00055">Use.h:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l01331">CommandLine.h:1333</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00045">raw_ostream.h:45</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="allvm_2Support_2ErrorHandling_8h_html"><div class="ttname"><a href="llvm_2Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="allvm_2Support_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="llvm_2Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="llvm_2Support_2ErrorHandling_8h_source.html#l00135">ErrorHandling.h:135</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64CC_html_abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb"><div class="ttname"><a href="namespacellvm_1_1AArch64CC.html#abfa1f7dce576430da99eed57807c7f28aeb67eda6b42e3237bc28fb457347a1cb">llvm::AArch64CC::LE</a></div><div class="ttdeci">@ LE</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00249">AArch64BaseInfo.h:249</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM_html_ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac"><div class="ttname"><a href="namespacellvm_1_1ARM.html#ac2456158e5acb44477d8ecfa2d04dbdea69691c7bdcc3ce6d5d8a1361f22d04ac">llvm::ARM::ProfileKind::M</a></div><div class="ttdeci">@ M</div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00071">RISCVBaseInfo.h:71</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86II_html_afcbcf7b2a1411ed04cb2e05bf017b283ad254d64df655ab661c3c3330610385af"><div class="ttname"><a href="namespacellvm_1_1X86II.html#afcbcf7b2a1411ed04cb2e05bf017b283ad254d64df655ab661c3c3330610385af">llvm::X86II::TA</a></div><div class="ttdeci">@ TA</div><div class="ttdef"><b>Definition:</b> <a href="X86BaseInfo_8h_source.html#l00491">X86BaseInfo.h:491</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00145">CommandLine.h:145</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_ac12e6a8f3a1b511f0dee2ed6de0ae806"><div class="ttname"><a href="namespacellvm_1_1cl.html#ac12e6a8f3a1b511f0dee2ed6de0ae806">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00432">CommandLine.h:432</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a6bb7bf8c85135f7a1ff129776219989ea509820290d57f333403f490dde7316f4"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a6bb7bf8c85135f7a1ff129776219989ea509820290d57f333403f490dde7316f4">llvm::pdb::PDB_DataKind::Local</a></div><div class="ttdeci">@ Local</div></div>
<div class="ttc" id="anamespacellvm_1_1rdf_html_a60fa65d781febd6397384d28b9956870"><div class="ttname"><a href="namespacellvm_1_1rdf.html#a60fa65d781febd6397384d28b9956870">llvm::rdf::operator&lt;&lt;</a></div><div class="ttdeci">raw_ostream &amp; operator&lt;&lt;(raw_ostream &amp;OS, const PrintLaneMaskOpt &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00051">RDFGraph.cpp:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1rdf_html_a866914ea356d1b06b005de04790d20e3"><div class="ttname"><a href="namespacellvm_1_1rdf.html#a866914ea356d1b06b005de04790d20e3">llvm::rdf::NodeId</a></div><div class="ttdeci">uint32_t NodeId</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00260">RDFGraph.h:260</a></div></div>
<div class="ttc" id="anamespacellvm_1_1rdf_html_afb6b57e855640b977f48537fe9d01362"><div class="ttname"><a href="namespacellvm_1_1rdf.html#afb6b57e855640b977f48537fe9d01362">llvm::rdf::NodeSet</a></div><div class="ttdeci">std::set&lt; NodeId &gt; NodeSet</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00513">RDFGraph.h:513</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This class represents lattice values for constants.</div><div class="ttdef"><b>Definition:</b> <a href="AllocatorList_8h_source.html#l00023">AllocatorList.h:23</a></div></div>
<div class="ttc" id="anamespacellvm_html_a298184c9a0cd665d7cfc55f6a59204a4"><div class="ttname"><a href="namespacellvm.html#a298184c9a0cd665d7cfc55f6a59204a4">llvm::MCPhysReg</a></div><div class="ttdeci">uint16_t MCPhysReg</div><div class="ttdoc">An unsigned integer type large enough to represent all physical registers, but not necessarily virtua...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00029">MCRegisterInfo.h:29</a></div></div>
<div class="ttc" id="anamespacellvm_html_a341215803e83773a3e97860dc291f121"><div class="ttname"><a href="namespacellvm.html#a341215803e83773a3e97860dc291f121">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01122">STLExtras.h:1122</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00132">Debug.cpp:132</a></div></div>
<div class="ttc" id="anamespacellvm_html_a99eced173a909993b89cc0a22e579aeb"><div class="ttname"><a href="namespacellvm.html#a99eced173a909993b89cc0a22e579aeb">llvm::remove_if</a></div><div class="ttdeci">auto remove_if(R &amp;&amp;Range, UnaryPredicate P) -&gt; decltype(adl_begin(Range))</div><div class="ttdoc">Provide wrappers to std::remove_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01232">STLExtras.h:1232</a></div></div>
<div class="ttc" id="anamespacellvm_html_af2558be0a37011f8cab1934429d7a64e"><div class="ttname"><a href="namespacellvm.html#af2558be0a37011f8cab1934429d7a64e">llvm::printReg</a></div><div class="ttdeci">Printable printReg(unsigned Reg, const TargetRegisterInfo *TRI=nullptr, unsigned SubIdx=0, const MachineRegisterInfo *MRI=nullptr)</div><div class="ttdoc">Prints virtual and physical registers with or without a TRI instance.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00089">TargetRegisterInfo.cpp:89</a></div></div>
<div class="ttc" id="anamespacellvm_html_af7881286e3ea4d7f1c4a63c87c132dac"><div class="ttname"><a href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">llvm::printMBBReference</a></div><div class="ttdeci">Printable printMBBReference(const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Prints a machine basic block reference.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00073">MachineBasicBlock.cpp:73</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="astructNodeList_html"><div class="ttname"><a href="structNodeList.html">NodeList</a></div><div class="ttdef"><b>Definition:</b> <a href="MicrosoftDemangle_8cpp_source.html#l00037">MicrosoftDemangle.cpp:37</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html">llvm::LaneBitmask</a></div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00039">LaneBitmask.h:39</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00403">CommandLine.h:403</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1BlockNode_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1BlockNode.html">llvm::rdf::BlockNode</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00626">RDFGraph.h:626</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_a075bd3b473f35178716fa6804a580289"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#a075bd3b473f35178716fa6804a580289">llvm::rdf::DataFlowGraph::getLiveIns</a></div><div class="ttdeci">const RegisterAggr &amp; getLiveIns() const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00667">RDFGraph.h:667</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_a0f12648e76adb6b9bd87678a2157b869"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#a0f12648e76adb6b9bd87678a2157b869">llvm::rdf::DataFlowGraph::getFunc</a></div><div class="ttdeci">NodeAddr&lt; FuncNode * &gt; getFunc() const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00660">RDFGraph.h:660</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_a1b929863993690e0bdd02c1b0d94c5eb"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#a1b929863993690e0bdd02c1b0d94c5eb">llvm::rdf::DataFlowGraph::findBlock</a></div><div class="ttdeci">NodeAddr&lt; BlockNode * &gt; findBlock(MachineBasicBlock *BB) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00768">RDFGraph.h:768</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_a3e31b11f239b824b8a27ab8936a14b8f"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#a3e31b11f239b824b8a27ab8936a14b8f">llvm::rdf::DataFlowGraph::IsPreservingDef</a></div><div class="ttdeci">static bool IsPreservingDef(const NodeAddr&lt; DefNode * &gt; DA)</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00812">RDFGraph.h:812</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_a5ac25df8268f9448e0790327ca87ac8e"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#a5ac25df8268f9448e0790327ca87ac8e">llvm::rdf::DataFlowGraph::IsRef</a></div><div class="ttdeci">static bool IsRef(const NodeAddr&lt; NodeBase * &gt; BA)</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00786">RDFGraph.h:786</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_a772157ecd8233578fc88b4c03e5a84a3"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#a772157ecd8233578fc88b4c03e5a84a3">llvm::rdf::DataFlowGraph::getMF</a></div><div class="ttdeci">MachineFunction &amp; getMF() const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00661">RDFGraph.h:661</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_ab564126c8e445fbf57dc84a1745bcfb2"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#ab564126c8e445fbf57dc84a1745bcfb2">llvm::rdf::DataFlowGraph::IsUse</a></div><div class="ttdeci">static bool IsUse(const NodeAddr&lt; NodeBase * &gt; BA)</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00802">RDFGraph.h:802</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_abdfa454207ee8cc0f726a82fd85c2742"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#abdfa454207ee8cc0f726a82fd85c2742">llvm::rdf::DataFlowGraph::IsDef</a></div><div class="ttdeci">static bool IsDef(const NodeAddr&lt; NodeBase * &gt; BA)</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00797">RDFGraph.h:797</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_ac09bdafb00560bd3f4c0e33ac1a5be29"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#ac09bdafb00560bd3f4c0e33ac1a5be29">llvm::rdf::DataFlowGraph::IsCode</a></div><div class="ttdeci">static bool IsCode(const NodeAddr&lt; NodeBase * &gt; BA)</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00792">RDFGraph.h:792</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_ae5d8f79792dfebea3c0df02ddbe490cf"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#ae5d8f79792dfebea3c0df02ddbe490cf">llvm::rdf::DataFlowGraph::getRelatedRefs</a></div><div class="ttdeci">NodeList getRelatedRefs(NodeAddr&lt; InstrNode * &gt; IA, NodeAddr&lt; RefNode * &gt; RA) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l01128">RDFGraph.cpp:1128</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DataFlowGraph_html_aff0e0649aacc0cb7884acdb2caf3888c"><div class="ttname"><a href="structllvm_1_1rdf_1_1DataFlowGraph.html#aff0e0649aacc0cb7884acdb2caf3888c">llvm::rdf::DataFlowGraph::addr</a></div><div class="ttdeci">NodeAddr&lt; T &gt; addr(NodeId N) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00656">RDFGraph.h:656</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1DefNode_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1DefNode.html">llvm::rdf::DefNode</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00558">RDFGraph.h:558</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1InstrNode_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1InstrNode.html">llvm::rdf::InstrNode</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00610">RDFGraph.h:610</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_a02399bf387901e34c35c3c2be8050b1f"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#a02399bf387901e34c35c3c2be8050b1f">llvm::rdf::Liveness::resetKills</a></div><div class="ttdeci">void resetKills()</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00852">RDFLiveness.cpp:852</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_a0f7fb4f645bdb6126514b53afbb8a676"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#a0f7fb4f645bdb6126514b53afbb8a676">llvm::rdf::Liveness::NodeRef</a></div><div class="ttdeci">std::pair&lt; NodeId, LaneBitmask &gt; NodeRef</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8h_source.html#l00049">RDFLiveness.h:49</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_a40dd6b47dba6259d04a102f7ac84b04b"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#a40dd6b47dba6259d04a102f7ac84b04b">llvm::rdf::Liveness::getAllReachingDefs</a></div><div class="ttdeci">NodeList getAllReachingDefs(RegisterRef RefRR, NodeAddr&lt; RefNode * &gt; RefA, bool TopShadows, bool FullChain, const RegisterAggr &amp;DefRRs)</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00106">RDFLiveness.cpp:106</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_a4240b38f5ca0f004dcc832611a19094c"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#a4240b38f5ca0f004dcc832611a19094c">llvm::rdf::Liveness::NodeRefSet</a></div><div class="ttdeci">std::set&lt; NodeRef &gt; NodeRefSet</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8h_source.html#l00050">RDFLiveness.h:50</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_a46697a9e0a45c7a082dec072487bd3c1"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#a46697a9e0a45c7a082dec072487bd3c1">llvm::rdf::Liveness::getAllReachedUses</a></div><div class="ttdeci">NodeSet getAllReachedUses(RegisterRef RefRR, NodeAddr&lt; DefNode * &gt; DefA, const RegisterAggr &amp;DefRRs)</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00379">RDFLiveness.cpp:379</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_a8a0c3ab6fb1dc60dd6787f8e8cb24b9c"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#a8a0c3ab6fb1dc60dd6787f8e8cb24b9c">llvm::rdf::Liveness::RefMap</a></div><div class="ttdeci">std::map&lt; RegisterId, NodeRefSet &gt; RefMap</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8h_source.html#l00052">RDFLiveness.h:52</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_ad02e81a5027973d366e67e79468508be"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#ad02e81a5027973d366e67e79468508be">llvm::rdf::Liveness::getAllReachingDefsRec</a></div><div class="ttdeci">std::pair&lt; NodeSet, bool &gt; getAllReachingDefsRec(RegisterRef RefRR, NodeAddr&lt; RefNode * &gt; RefA, NodeSet &amp;Visited, const NodeSet &amp;Defs)</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00269">RDFLiveness.cpp:269</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_ad90179063514e043a3e531d1399c91d3"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#ad90179063514e043a3e531d1399c91d3">llvm::rdf::Liveness::resetLiveIns</a></div><div class="ttdeci">void resetLiveIns()</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00835">RDFLiveness.cpp:835</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_adee443b7259dcf9e3784f7e674970dad"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#adee443b7259dcf9e3784f7e674970dad">llvm::rdf::Liveness::computePhiInfo</a></div><div class="ttdeci">void computePhiInfo()</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00425">RDFLiveness.cpp:425</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_ae325522c0a3e1a113ab70eeab9019779"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#ae325522c0a3e1a113ab70eeab9019779">llvm::rdf::Liveness::computeLiveIns</a></div><div class="ttdeci">void computeLiveIns()</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00682">RDFLiveness.cpp:682</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Liveness_html_afac839608209fd2c47eee4e56b14016e"><div class="ttname"><a href="structllvm_1_1rdf_1_1Liveness.html#afac839608209fd2c47eee4e56b14016e">llvm::rdf::Liveness::getNearestAliasedRef</a></div><div class="ttdeci">NodeAddr&lt; RefNode * &gt; getNearestAliasedRef(RegisterRef RefRR, NodeAddr&lt; InstrNode * &gt; IA)</div><div class="ttdoc">Find the nearest ref node aliased to RefRR, going upwards in the data flow, starting from the instruc...</div><div class="ttdef"><b>Definition:</b> <a href="RDFLiveness_8cpp_source.html#l00322">RDFLiveness.cpp:322</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAddr_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAddr.html">llvm::rdf::NodeAddr</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00334">RDFGraph.h:334</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAddr_html_a150c10db309dcfa7a1093dc0c698d663"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAddr.html#a150c10db309dcfa7a1093dc0c698d663">llvm::rdf::NodeAddr::Addr</a></div><div class="ttdeci">T Addr</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00351">RDFGraph.h:351</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAddr_html_a7e398d2285d22a33c3358ed7904725d7"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAddr.html#a7e398d2285d22a33c3358ed7904725d7">llvm::rdf::NodeAddr::Id</a></div><div class="ttdeci">NodeId Id</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00352">RDFGraph.h:352</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da0ae60988901d9b6e0499d07f94e8fc00">llvm::rdf::NodeAttrs::Phi</a></div><div class="ttdeci">@ Phi</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00277">RDFGraph.h:277</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da19efcb0576040c1305e80dcc42758551">llvm::rdf::NodeAttrs::Undef</a></div><div class="ttdeci">@ Undef</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00289">RDFGraph.h:289</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da1ec381406c0c91aef4a414bdba131112">llvm::rdf::NodeAttrs::PhiRef</a></div><div class="ttdeci">@ PhiRef</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00286">RDFGraph.h:286</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1da64fd1d9beb2a27391a05ee1d6d51b6e0"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da64fd1d9beb2a27391a05ee1d6d51b6e0">llvm::rdf::NodeAttrs::Preserving</a></div><div class="ttdeci">@ Preserving</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00287">RDFGraph.h:287</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1da71d294f05b9e9fa97d22c44e016bbbf9"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da71d294f05b9e9fa97d22c44e016bbbf9">llvm::rdf::NodeAttrs::Dead</a></div><div class="ttdeci">@ Dead</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00290">RDFGraph.h:290</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1da91376b865b14d172148590ff1c69e403"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1da91376b865b14d172148590ff1c69e403">llvm::rdf::NodeAttrs::Stmt</a></div><div class="ttdeci">@ Stmt</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00278">RDFGraph.h:278</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1daccc816e76d83a88e73d024590c88260f"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1daccc816e76d83a88e73d024590c88260f">llvm::rdf::NodeAttrs::Clobbering</a></div><div class="ttdeci">@ Clobbering</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00285">RDFGraph.h:285</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1dacde70c4b68233671ba64c60b7ec08238"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1dacde70c4b68233671ba64c60b7ec08238">llvm::rdf::NodeAttrs::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00275">RDFGraph.h:275</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1NodeAttrs_html_a33c1c23be2eedbc3a38ee052099e4a1daf9dd39c923393e08fbf871e15cc530b2"><div class="ttname"><a href="structllvm_1_1rdf_1_1NodeAttrs.html#a33c1c23be2eedbc3a38ee052099e4a1daf9dd39c923393e08fbf871e15cc530b2">llvm::rdf::NodeAttrs::Use</a></div><div class="ttdeci">@ Use</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00276">RDFGraph.h:276</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1PhiNode_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1PhiNode.html">llvm::rdf::PhiNode</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00614">RDFGraph.h:614</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1PhysicalRegisterInfo_html_a94e6621743c912df37ced36580ffcdfc"><div class="ttname"><a href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a94e6621743c912df37ced36580ffcdfc">llvm::rdf::PhysicalRegisterInfo::normalize</a></div><div class="ttdeci">RegisterRef normalize(RegisterRef RR) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00097">RDFRegisters.cpp:97</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1PhysicalRegisterInfo_html_a9dad4dca6c149dcc5a2138f9c3ca50d6"><div class="ttname"><a href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#a9dad4dca6c149dcc5a2138f9c3ca50d6">llvm::rdf::PhysicalRegisterInfo::alias</a></div><div class="ttdeci">bool alias(RegisterRef RA, RegisterRef RB) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00115">RDFRegisters.h:115</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1PhysicalRegisterInfo_html_ad1e916faef142397ee6fdf5e6e1a5474"><div class="ttname"><a href="structllvm_1_1rdf_1_1PhysicalRegisterInfo.html#ad1e916faef142397ee6fdf5e6e1a5474">llvm::rdf::PhysicalRegisterInfo::mapTo</a></div><div class="ttdeci">RegisterRef mapTo(RegisterRef RR, unsigned R) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00225">RDFRegisters.cpp:225</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1PrintLaneMaskOpt_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1PrintLaneMaskOpt.html">llvm::rdf::PrintLaneMaskOpt</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00230">RDFRegisters.h:230</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1Print_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1Print.html">llvm::rdf::Print</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00928">RDFGraph.h:928</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RefNode_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1RefNode.html">llvm::rdf::RefNode</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00515">RDFGraph.h:515</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RefNode_html_a37650e1cbcdcbae779a3b0b09367d067"><div class="ttname"><a href="structllvm_1_1rdf_1_1RefNode.html#a37650e1cbcdcbae779a3b0b09367d067">llvm::rdf::RefNode::getSibling</a></div><div class="ttdeci">NodeId getSibling() const</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00535">RDFGraph.h:535</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html">llvm::rdf::RegisterAggr</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00157">RDFRegisters.h:157</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_a1003b14cdf697f6f504f0e077fdfad7f"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#a1003b14cdf697f6f504f0e077fdfad7f">llvm::rdf::RegisterAggr::rr_end</a></div><div class="ttdeci">rr_iterator rr_end() const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00220">RDFRegisters.h:220</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_a115df2d18201fc3979314d7080727d78"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#a115df2d18201fc3979314d7080727d78">llvm::rdf::RegisterAggr::insert</a></div><div class="ttdeci">RegisterAggr &amp; insert(RegisterRef RR)</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00268">RDFRegisters.cpp:268</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_a11eed31a4a2d388968084ca63ea3f928"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#a11eed31a4a2d388968084ca63ea3f928">llvm::rdf::RegisterAggr::hasAliasOf</a></div><div class="ttdeci">bool hasAliasOf(RegisterRef RR) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00240">RDFRegisters.cpp:240</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_a295d6a3ed95a4226eb64114db94b8dbf"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#a295d6a3ed95a4226eb64114db94b8dbf">llvm::rdf::RegisterAggr::hasCoverOf</a></div><div class="ttdeci">bool hasCoverOf(RegisterRef RR) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00253">RDFRegisters.cpp:253</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_a65cdb708065271fdefb9fba495cf5d95"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#a65cdb708065271fdefb9fba495cf5d95">llvm::rdf::RegisterAggr::clearIn</a></div><div class="ttdeci">RegisterRef clearIn(RegisterRef RR) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00315">RDFRegisters.cpp:315</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_acbfda31693da28d8b0a67fbc6fdef351"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#acbfda31693da28d8b0a67fbc6fdef351">llvm::rdf::RegisterAggr::intersectWith</a></div><div class="ttdeci">RegisterRef intersectWith(RegisterRef RR) const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8cpp_source.html#l00305">RDFRegisters.cpp:305</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_adb89ac68dc79bcd8b11036d562b08c0d"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#adb89ac68dc79bcd8b11036d562b08c0d">llvm::rdf::RegisterAggr::rr_begin</a></div><div class="ttdeci">rr_iterator rr_begin() const</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00217">RDFRegisters.h:217</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterAggr_html_aebb69ff57b201dee748ce7fe7f22ff1b"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterAggr.html#aebb69ff57b201dee748ce7fe7f22ff1b">llvm::rdf::RegisterAggr::isCoverOf</a></div><div class="ttdeci">static bool isCoverOf(RegisterRef RA, RegisterRef RB, const PhysicalRegisterInfo &amp;PRI)</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00166">RDFRegisters.h:166</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterRef_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterRef.html">llvm::rdf::RegisterRef</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00071">RDFRegisters.h:71</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterRef_html_a5ad5cb9affeee19ca5894e5d950ea869"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterRef.html#a5ad5cb9affeee19ca5894e5d950ea869">llvm::rdf::RegisterRef::Mask</a></div><div class="ttdeci">LaneBitmask Mask</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00073">RDFRegisters.h:73</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1RegisterRef_html_aff344ef4b411a5f449ef8839d98f1750"><div class="ttname"><a href="structllvm_1_1rdf_1_1RegisterRef.html#aff344ef4b411a5f449ef8839d98f1750">llvm::rdf::RegisterRef::Reg</a></div><div class="ttdeci">RegisterId Reg</div><div class="ttdef"><b>Definition:</b> <a href="RDFRegisters_8h_source.html#l00072">RDFRegisters.h:72</a></div></div>
<div class="ttc" id="astructllvm_1_1rdf_1_1UseNode_html"><div class="ttname"><a href="structllvm_1_1rdf_1_1UseNode.html">llvm::rdf::UseNode</a></div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00575">RDFGraph.h:575</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 13 2022 11:24:03 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
