<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Scalar/CallSiteSplitting.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;9.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_e6e1f1f37d351595fa984b942927b205.html">Scalar</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">CallSiteSplitting.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;llvm/Transforms/Scalar/CallSiteSplitting.h&quot;</code><br />
<code>#include &quot;llvm/ADT/Statistic.h&quot;</code><br />
<code>#include &quot;llvm/Analysis/TargetLibraryInfo.h&quot;</code><br />
<code>#include &quot;llvm/Analysis/TargetTransformInfo.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/Local.h&quot;</code><br />
<code>#include &quot;llvm/IR/IntrinsicInst.h&quot;</code><br />
<code>#include &quot;llvm/IR/PatternMatch.h&quot;</code><br />
<code>#include &quot;llvm/Support/Debug.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Scalar.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/BasicBlockUtils.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/Cloning.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for CallSiteSplitting.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="CallSiteSplitting_8cpp__incl.png" border="0" usemap="#alib_2Transforms_2Scalar_2CallSiteSplitting_8cpp" alt=""/></div>
<map name="alib_2Transforms_2Scalar_2CallSiteSplitting_8cpp" id="alib_2Transforms_2Scalar_2CallSiteSplitting_8cpp">
<area shape="rect" title=" " alt="" coords="1029,5,1187,45"/>
<area shape="rect" title=" " alt="" coords="5,93,176,133"/>
<area shape="rect" title=" " alt="" coords="201,101,351,126"/>
<area shape="rect" title=" " alt="" coords="375,93,574,133"/>
<area shape="rect" title=" " alt="" coords="599,93,817,133"/>
<area shape="rect" title=" " alt="" coords="842,93,1003,133"/>
<area shape="rect" title=" " alt="" coords="1028,101,1188,126"/>
<area shape="rect" title=" " alt="" coords="1212,101,1383,126"/>
<area shape="rect" title=" " alt="" coords="1407,101,1569,126"/>
<area shape="rect" title=" " alt="" coords="1594,101,1777,126"/>
<area shape="rect" title=" " alt="" coords="1801,93,1962,133"/>
<area shape="rect" title=" " alt="" coords="1986,93,2147,133"/>
</map>
</div>
</div>
<p><a href="CallSiteSplitting_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;callsite-splitting&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a11ff2609088447b356b0843149af4cf7"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; ICmpInst *, unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a11ff2609088447b356b0843149af4cf7">ConditionTy</a></td></tr>
<tr class="separator:a11ff2609088447b356b0843149af4cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53859a822d23cfa2e5c8e662a3abadf7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classSmallVector.html">SmallVector</a>&lt; <a class="el" href="CallSiteSplitting_8cpp.html#a11ff2609088447b356b0843149af4cf7">ConditionTy</a>, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a></td></tr>
<tr class="separator:a53859a822d23cfa2e5c8e662a3abadf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b16c1f3249a4c63a47a6696e2084c4c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a2b16c1f3249a4c63a47a6696e2084c4c">PredsWithCondsTy</a> = <a class="el" href="classSmallVector.html">SmallVector</a>&lt; std::pair&lt; BasicBlock *, <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &gt;, 2 &gt;</td></tr>
<tr class="separator:a2b16c1f3249a4c63a47a6696e2084c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a97ccf3c7040ae276f332fea73c165b8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a97ccf3c7040ae276f332fea73c165b8b">STATISTIC</a> (NumCallSiteSplit, &quot;Number of call-site split&quot;)</td></tr>
<tr class="separator:a97ccf3c7040ae276f332fea73c165b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d0bfc5cea325f6474964c799b2545a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="PGOMemOPSizeOpt_8cpp.html#a9d9e3af0f29b78d5b6eae235741fbcbb">cl::opt</a>&lt; unsigned &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#af2d0bfc5cea325f6474964c799b2545a">DuplicationThreshold</a> (&quot;callsite-<a class="el" href="CallSiteSplitting_8cpp.html#af862aa2abae546509b31878b6f55327a">splitting</a>-duplication-threshold&quot;, cl::Hidden, cl::desc(&quot;Only allow <a class="el" href="InstructionCombining_8cpp.html#a9360db2a972441c49cdbbabb5b20cc27">instructions</a> before a call, <a class="el" href="DeadArgumentElimination_8cpp.html#ac09a30d47dd36dfe05dda91e8d67e92f">if</a> &quot; &quot;their cost is below DuplicationThreshold&quot;), cl::init(5))</td></tr>
<tr class="memdesc:af2d0bfc5cea325f6474964c799b2545a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only allow instructions before a call, if their CodeSize cost is below DuplicationThreshold.  <a href="CallSiteSplitting_8cpp.html#af2d0bfc5cea325f6474964c799b2545a">More...</a><br /></td></tr>
<tr class="separator:af2d0bfc5cea325f6474964c799b2545a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5dcaf477a297c19a99fbc681e4bd5a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#adb5dcaf477a297c19a99fbc681e4bd5a">addNonNullAttribute</a> (CallSite CS, Value *Op)</td></tr>
<tr class="separator:adb5dcaf477a297c19a99fbc681e4bd5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc79e628724fef3f4a1fa20578c888a8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#acc79e628724fef3f4a1fa20578c888a8">setConstantInArgument</a> (CallSite CS, Value *Op, Constant *ConstValue)</td></tr>
<tr class="separator:acc79e628724fef3f4a1fa20578c888a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a143a90650a5dde14b2a0a1055ccef841"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a143a90650a5dde14b2a0a1055ccef841">isCondRelevantToAnyCallArgument</a> (ICmpInst *Cmp, CallSite CS)</td></tr>
<tr class="separator:a143a90650a5dde14b2a0a1055ccef841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ecd41423723f8b2cc29bdda4118611"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#ae7ecd41423723f8b2cc29bdda4118611">recordCondition</a> (CallSite CS, BasicBlock *From, BasicBlock *To, <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &amp;Conditions)</td></tr>
<tr class="memdesc:ae7ecd41423723f8b2cc29bdda4118611"><td class="mdescLeft">&#160;</td><td class="mdescRight">If From has a conditional jump to To, add the condition to Conditions, if it is relevant to any argument at CS.  <a href="CallSiteSplitting_8cpp.html#ae7ecd41423723f8b2cc29bdda4118611">More...</a><br /></td></tr>
<tr class="separator:ae7ecd41423723f8b2cc29bdda4118611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74e285f28425a7352bf089547aea4b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#ab74e285f28425a7352bf089547aea4b8">recordConditions</a> (CallSite CS, BasicBlock *Pred, <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &amp;Conditions, BasicBlock *StopAt)</td></tr>
<tr class="memdesc:ab74e285f28425a7352bf089547aea4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record ICmp conditions relevant to any argument in CS following Pred's single predecessors.  <a href="CallSiteSplitting_8cpp.html#ab74e285f28425a7352bf089547aea4b8">More...</a><br /></td></tr>
<tr class="separator:ab74e285f28425a7352bf089547aea4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f172fcb6ca22fffbe7099fac5a1c68"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a61f172fcb6ca22fffbe7099fac5a1c68">addConditions</a> (CallSite CS, const <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &amp;Conditions)</td></tr>
<tr class="separator:a61f172fcb6ca22fffbe7099fac5a1c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbfe0838b184a2df083679877c27c27f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classSmallVector.html">SmallVector</a>&lt; BasicBlock *, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#acbfe0838b184a2df083679877c27c27f">getTwoPredecessors</a> (BasicBlock *BB)</td></tr>
<tr class="separator:acbfe0838b184a2df083679877c27c27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15c2bf85da76129165c0309fa826f36"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#ab15c2bf85da76129165c0309fa826f36">canSplitCallSite</a> (CallSite CS, TargetTransformInfo &amp;TTI)</td></tr>
<tr class="separator:ab15c2bf85da76129165c0309fa826f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8851ab02c245b1b95967e9bbac84b713"><td class="memItemLeft" align="right" valign="top">static Instruction *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a8851ab02c245b1b95967e9bbac84b713">cloneInstForMustTail</a> (Instruction *<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Instruction *Before, Value *V)</td></tr>
<tr class="separator:a8851ab02c245b1b95967e9bbac84b713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1548d6cc07c1c5595817e73713d58a23"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a1548d6cc07c1c5595817e73713d58a23">copyMustTailReturn</a> (BasicBlock *SplitBB, Instruction *CI, Instruction *NewCI)</td></tr>
<tr class="memdesc:a1548d6cc07c1c5595817e73713d58a23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy mandatory <code>musttail</code> return sequence that follows original <code>CI</code>, and link it up to <code>NewCI</code> value instead:  <a href="CallSiteSplitting_8cpp.html#a1548d6cc07c1c5595817e73713d58a23">More...</a><br /></td></tr>
<tr class="separator:a1548d6cc07c1c5595817e73713d58a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c62072565cb66c31609650b981196d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a95c62072565cb66c31609650b981196d">splitCallSite</a> (CallSite CS, const <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::pair&lt; BasicBlock *, <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &gt; &gt; &amp;Preds, DomTreeUpdater &amp;DTU)</td></tr>
<tr class="memdesc:a95c62072565cb66c31609650b981196d"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each (predecessor, conditions from predecessors) pair, it will split the basic block containing the call site, hook it up to the predecessor and replace the call instruction with new call instructions, which contain constraints based on the conditions from their predecessors.  <a href="CallSiteSplitting_8cpp.html#a95c62072565cb66c31609650b981196d">More...</a><br /></td></tr>
<tr class="separator:a95c62072565cb66c31609650b981196d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce44acc0c6d9202ecea26d8349c9ac0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a9ce44acc0c6d9202ecea26d8349c9ac0">isPredicatedOnPHI</a> (CallSite CS)</td></tr>
<tr class="separator:a9ce44acc0c6d9202ecea26d8349c9ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbb14a3a699ee694baa26ac1573465f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="CallSiteSplitting_8cpp.html#a2b16c1f3249a4c63a47a6696e2084c4c">PredsWithCondsTy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a3cbb14a3a699ee694baa26ac1573465f">shouldSplitOnPHIPredicatedArgument</a> (CallSite CS)</td></tr>
<tr class="separator:a3cbb14a3a699ee694baa26ac1573465f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b3cb686a4067d676e986c7a9f5c821"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="CallSiteSplitting_8cpp.html#a2b16c1f3249a4c63a47a6696e2084c4c">PredsWithCondsTy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a30b3cb686a4067d676e986c7a9f5c821">shouldSplitOnPredicatedArgument</a> (CallSite CS, DomTreeUpdater &amp;DTU)</td></tr>
<tr class="separator:a30b3cb686a4067d676e986c7a9f5c821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d33de32ae1e5b7e4e761570bfc0683a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a6d33de32ae1e5b7e4e761570bfc0683a">tryToSplitCallSite</a> (CallSite CS, TargetTransformInfo &amp;TTI, DomTreeUpdater &amp;DTU)</td></tr>
<tr class="separator:a6d33de32ae1e5b7e4e761570bfc0683a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43988d720b2e37fb0abe3531980dbec8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a43988d720b2e37fb0abe3531980dbec8">doCallSiteSplitting</a> (Function &amp;<a class="el" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, TargetLibraryInfo &amp;TLI, TargetTransformInfo &amp;TTI, DominatorTree &amp;DT)</td></tr>
<tr class="separator:a43988d720b2e37fb0abe3531980dbec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1ce568aab320a4a3063225608b9d61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#a9a1ce568aab320a4a3063225608b9d61">INITIALIZE_PASS_BEGIN</a> (CallSiteSplittingLegacyPass, &quot;callsite-splitting&quot;, &quot;Call-site splitting&quot;, false, false) INITIALIZE_PASS_END(CallSiteSplittingLegacyPass</td></tr>
<tr class="separator:a9a1ce568aab320a4a3063225608b9d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af862aa2abae546509b31878b6f55327a"><td class="memItemLeft" align="right" valign="top">callsite&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#af862aa2abae546509b31878b6f55327a">splitting</a></td></tr>
<tr class="separator:af862aa2abae546509b31878b6f55327a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a0cdaeacc0d086f82521095d8ea3ca"><td class="memItemLeft" align="right" valign="top">callsite Call site&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CallSiteSplitting_8cpp.html#ac4a0cdaeacc0d086f82521095d8ea3ca">false</a></td></tr>
<tr class="separator:ac4a0cdaeacc0d086f82521095d8ea3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;callsite-splitting&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00073">73</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a53859a822d23cfa2e5c8e662a3abadf7" name="a53859a822d23cfa2e5c8e662a3abadf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53859a822d23cfa2e5c8e662a3abadf7">&#9670;&nbsp;</a></span>ConditionsTy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classSmallVector.html">SmallVector</a>&lt;<a class="el" href="CallSiteSplitting_8cpp.html#a11ff2609088447b356b0843149af4cf7">ConditionTy</a>, 2&gt; <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00126">126</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

</div>
</div>
<a id="a11ff2609088447b356b0843149af4cf7" name="a11ff2609088447b356b0843149af4cf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ff2609088447b356b0843149af4cf7">&#9670;&nbsp;</a></span>ConditionTy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;ICmpInst *, unsigned&gt; <a class="el" href="CallSiteSplitting_8cpp.html#a11ff2609088447b356b0843149af4cf7">ConditionTy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00125">125</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

</div>
</div>
<a id="a2b16c1f3249a4c63a47a6696e2084c4c" name="a2b16c1f3249a4c63a47a6696e2084c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b16c1f3249a4c63a47a6696e2084c4c">&#9670;&nbsp;</a></span>PredsWithCondsTy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="CallSiteSplitting_8cpp.html#a2b16c1f3249a4c63a47a6696e2084c4c">PredsWithCondsTy</a> =  <a class="el" href="classSmallVector.html">SmallVector</a>&lt;std::pair&lt;BasicBlock *, <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a>&gt;, 2&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00445">445</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a61f172fcb6ca22fffbe7099fac5a1c68" name="a61f172fcb6ca22fffbe7099fac5a1c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f172fcb6ca22fffbe7099fac5a1c68">&#9670;&nbsp;</a></span>addConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addConditions </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Conditions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00166">166</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp_source.html#l00086">addNonNullAttribute()</a>, <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00095">setConstantInArgument()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00304">splitCallSite()</a>.</p>

</div>
</div>
<a id="adb5dcaf477a297c19a99fbc681e4bd5a" name="adb5dcaf477a297c19a99fbc681e4bd5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5dcaf477a297c19a99fbc681e4bd5a">&#9670;&nbsp;</a></span>addNonNullAttribute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addNonNullAttribute </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Value *&#160;</td>
          <td class="paramname"><em>Op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00086">86</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00166">addConditions()</a>.</p>

</div>
</div>
<a id="ab15c2bf85da76129165c0309fa826f36" name="ab15c2bf85da76129165c0309fa826f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab15c2bf85da76129165c0309fa826f36">&#9670;&nbsp;</a></span>canSplitCallSite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool canSplitCallSite </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetTransformInfo &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00185">185</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp.html#af2d0bfc5cea325f6474964c799b2545a">DuplicationThreshold()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00492">tryToSplitCallSite()</a>.</p>

</div>
</div>
<a id="a8851ab02c245b1b95967e9bbac84b713" name="a8851ab02c245b1b95967e9bbac84b713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8851ab02c245b1b95967e9bbac84b713">&#9670;&nbsp;</a></span>cloneInstForMustTail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Instruction * cloneInstForMustTail </td>
          <td>(</td>
          <td class="paramtype">Instruction *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Instruction *&#160;</td>
          <td class="paramname"><em>Before</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Value *&#160;</td>
          <td class="paramname"><em>V</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00223">223</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00241">copyMustTailReturn()</a>.</p>

</div>
</div>
<a id="a1548d6cc07c1c5595817e73713d58a23" name="a1548d6cc07c1c5595817e73713d58a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1548d6cc07c1c5595817e73713d58a23">&#9670;&nbsp;</a></span>copyMustTailReturn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void copyMustTailReturn </td>
          <td>(</td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>SplitBB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Instruction *&#160;</td>
          <td class="paramname"><em>CI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Instruction *&#160;</td>
          <td class="paramname"><em>NewCI</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy mandatory <code>musttail</code> return sequence that follows original <code>CI</code>, and link it up to <code>NewCI</code> value instead: </p>
<ul>
<li>(optional) <code>bitcast NewCI to ...</code></li>
<li><code>ret bitcast or NewCI</code></li>
</ul>
<p >Insert this sequence right before <code>SplitBB</code>'s terminator, which will be cleaned up later in <code>splitCallSite</code> below. </p>

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00241">241</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00223">cloneInstForMustTail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00304">splitCallSite()</a>.</p>

</div>
</div>
<a id="a43988d720b2e37fb0abe3531980dbec8" name="a43988d720b2e37fb0abe3531980dbec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43988d720b2e37fb0abe3531980dbec8">&#9670;&nbsp;</a></span>doCallSiteSplitting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool doCallSiteSplitting </td>
          <td>(</td>
          <td class="paramtype">Function &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetLibraryInfo &amp;&#160;</td>
          <td class="paramname"><em>TLI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetTransformInfo &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DominatorTree &amp;&#160;</td>
          <td class="paramname"><em>DT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00508">508</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00492">tryToSplitCallSite()</a>.</p>

</div>
</div>
<a id="af2d0bfc5cea325f6474964c799b2545a" name="af2d0bfc5cea325f6474964c799b2545a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d0bfc5cea325f6474964c799b2545a">&#9670;&nbsp;</a></span>DuplicationThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="PGOMemOPSizeOpt_8cpp.html#a9d9e3af0f29b78d5b6eae235741fbcbb">cl::opt</a>&lt; unsigned &gt; DuplicationThreshold </td>
          <td>(</td>
          <td class="paramtype">&quot;callsite-<a class="el" href="CallSiteSplitting_8cpp.html#af862aa2abae546509b31878b6f55327a">splitting</a>-duplication-threshold&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::Hidden&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::desc(&quot;Only allow <a class="el" href="InstructionCombining_8cpp.html#a9360db2a972441c49cdbbabb5b20cc27">instructions</a> before a call, <a class="el" href="DeadArgumentElimination_8cpp.html#ac09a30d47dd36dfe05dda91e8d67e92f">if</a> &quot; &quot;their cost is below DuplicationThreshold&quot;)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl::init(5)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only allow instructions before a call, if their CodeSize cost is below DuplicationThreshold. </p>
<p >Those instructions need to be duplicated in all split blocks. </p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00185">canSplitCallSite()</a>.</p>

</div>
</div>
<a id="acbfe0838b184a2df083679877c27c27f" name="acbfe0838b184a2df083679877c27c27f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbfe0838b184a2df083679877c27c27f">&#9670;&nbsp;</a></span>getTwoPredecessors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classSmallVector.html">SmallVector</a>&lt; BasicBlock *, 2 &gt; getTwoPredecessors </td>
          <td>(</td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>BB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00179">179</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00449">shouldSplitOnPHIPredicatedArgument()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00460">shouldSplitOnPredicatedArgument()</a>.</p>

</div>
</div>
<a id="a9a1ce568aab320a4a3063225608b9d61" name="a9a1ce568aab320a4a3063225608b9d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1ce568aab320a4a3063225608b9d61">&#9670;&nbsp;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">CallSiteSplittingLegacyPass&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;callsite-splitting&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Call-site splitting&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a143a90650a5dde14b2a0a1055ccef841" name="a143a90650a5dde14b2a0a1055ccef841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a143a90650a5dde14b2a0a1055ccef841">&#9670;&nbsp;</a></span>isCondRelevantToAnyCallArgument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isCondRelevantToAnyCallArgument </td>
          <td>(</td>
          <td class="paramtype">ICmpInst *&#160;</td>
          <td class="paramname"><em>Cmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00109">109</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>, and <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00130">recordCondition()</a>.</p>

</div>
</div>
<a id="a9ce44acc0c6d9202ecea26d8349c9ac0" name="a9ce44acc0c6d9202ecea26d8349c9ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce44acc0c6d9202ecea26d8349c9ac0">&#9670;&nbsp;</a></span>isPredicatedOnPHI()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isPredicatedOnPHI </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00419">419</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>, and <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00449">shouldSplitOnPHIPredicatedArgument()</a>.</p>

</div>
</div>
<a id="ae7ecd41423723f8b2cc29bdda4118611" name="ae7ecd41423723f8b2cc29bdda4118611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ecd41423723f8b2cc29bdda4118611">&#9670;&nbsp;</a></span>recordCondition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recordCondition </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>From</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>To</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Conditions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If From has a conditional jump to To, add the condition to Conditions, if it is relevant to any argument at CS. </p>

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00130">130</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp_source.html#l00109">isCondRelevantToAnyCallArgument()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00153">recordConditions()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00460">shouldSplitOnPredicatedArgument()</a>.</p>

</div>
</div>
<a id="ab74e285f28425a7352bf089547aea4b8" name="ab74e285f28425a7352bf089547aea4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab74e285f28425a7352bf089547aea4b8">&#9670;&nbsp;</a></span>recordConditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recordConditions </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>Pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Conditions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BasicBlock *&#160;</td>
          <td class="paramname"><em>StopAt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Record ICmp conditions relevant to any argument in CS following Pred's single predecessors. </p>
<p >If there are conflicting conditions along a path, like x == 1 and x == 0, the first condition will be used. We stop once we reach an edge to StopAt. </p>

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00153">153</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp_source.html#l00130">recordCondition()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00460">shouldSplitOnPredicatedArgument()</a>.</p>

</div>
</div>
<a id="acc79e628724fef3f4a1fa20578c888a8" name="acc79e628724fef3f4a1fa20578c888a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc79e628724fef3f4a1fa20578c888a8">&#9670;&nbsp;</a></span>setConstantInArgument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setConstantInArgument </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Value *&#160;</td>
          <td class="paramname"><em>Op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Constant *&#160;</td>
          <td class="paramname"><em>ConstValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00095">95</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00166">addConditions()</a>.</p>

</div>
</div>
<a id="a3cbb14a3a699ee694baa26ac1573465f" name="a3cbb14a3a699ee694baa26ac1573465f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbb14a3a699ee694baa26ac1573465f">&#9670;&nbsp;</a></span>shouldSplitOnPHIPredicatedArgument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="CallSiteSplitting_8cpp.html#a2b16c1f3249a4c63a47a6696e2084c4c">PredsWithCondsTy</a> shouldSplitOnPHIPredicatedArgument </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00449">449</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp_source.html#l00179">getTwoPredecessors()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00419">isPredicatedOnPHI()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00492">tryToSplitCallSite()</a>.</p>

</div>
</div>
<a id="a30b3cb686a4067d676e986c7a9f5c821" name="a30b3cb686a4067d676e986c7a9f5c821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b3cb686a4067d676e986c7a9f5c821">&#9670;&nbsp;</a></span>shouldSplitOnPredicatedArgument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="CallSiteSplitting_8cpp.html#a2b16c1f3249a4c63a47a6696e2084c4c">PredsWithCondsTy</a> shouldSplitOnPredicatedArgument </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DomTreeUpdater &amp;&#160;</td>
          <td class="paramname"><em>DTU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00460">460</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>, <a class="el" href="CallSiteSplitting_8cpp_source.html#l00179">getTwoPredecessors()</a>, <a class="el" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>, <a class="el" href="CallSiteSplitting_8cpp_source.html#l00130">recordCondition()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00153">recordConditions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00492">tryToSplitCallSite()</a>.</p>

</div>
</div>
<a id="a95c62072565cb66c31609650b981196d" name="a95c62072565cb66c31609650b981196d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c62072565cb66c31609650b981196d">&#9670;&nbsp;</a></span>splitCallSite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void splitCallSite </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::pair&lt; BasicBlock *, <a class="el" href="CallSiteSplitting_8cpp.html#a53859a822d23cfa2e5c8e662a3abadf7">ConditionsTy</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>Preds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DomTreeUpdater &amp;&#160;</td>
          <td class="paramname"><em>DTU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For each (predecessor, conditions from predecessors) pair, it will split the basic block containing the call site, hook it up to the predecessor and replace the call instruction with new call instructions, which contain constraints based on the conditions from their predecessors. </p>
<p >For example, in the IR below with an OR condition, the call-site can be split. In this case, Preds for Tail is [(Header, a == null), (TBB, a != null, b == null)]. Tail is replaced by 2 split blocks, containing CallInst1, which has constraints based on the conditions from Head and CallInst2, which has constraints based on the conditions coming from TBB.</p>
<p >From :</p>
<p >Header: c = icmp eq i32* a, null br i1 c Tail, TBB TBB: c2 = icmp eq i32* b, null br i1 c Tail, End Tail: ca = call i1 @callee (i32* a, i32* b)</p>
<p >to :</p>
<p >Header: // PredBB1 is Header c = icmp eq i32* a, null br i1 c Tail-split1, TBB TBB: // PredBB2 is TBB c2 = icmp eq i32* b, null br i1 c Tail-split2, End Tail-split1: ca1 = call @callee (i32* null, i32* b) // CallInst1 br Tail Tail-split2: ca2 = call @callee (i32* nonnull a, i32* null) // CallInst2 br Tail Tail: p = phi i1 [ca1, Tail-split1],[ca2, Tail-split2]</p>
<p >Note that in case any arguments at the call-site are constrained by its predecessors, new call-sites with more constrained arguments will be created in createCallSitesOnPredicatedArgument(). </p>

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00304">304</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp_source.html#l00166">addConditions()</a>, <a class="el" href="DeadArgumentElimination_8cpp.html#aa5bfc84fa71b9e3477e24efecb60fae5">assert()</a>, <a class="el" href="CallSiteSplitting_8cpp_source.html#l00241">copyMustTailReturn()</a>, <a class="el" href="BasicAliasAnalysis_8cpp_source.html#l00797">getParent()</a>, and <a class="el" href="MD5_8cpp_source.html#l00058">I</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00492">tryToSplitCallSite()</a>.</p>

</div>
</div>
<a id="a97ccf3c7040ae276f332fea73c165b8b" name="a97ccf3c7040ae276f332fea73c165b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ccf3c7040ae276f332fea73c165b8b">&#9670;&nbsp;</a></span>STATISTIC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumCallSiteSplit&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of call-site split&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d33de32ae1e5b7e4e761570bfc0683a" name="a6d33de32ae1e5b7e4e761570bfc0683a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d33de32ae1e5b7e4e761570bfc0683a">&#9670;&nbsp;</a></span>tryToSplitCallSite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool tryToSplitCallSite </td>
          <td>(</td>
          <td class="paramtype">CallSite&#160;</td>
          <td class="paramname"><em>CS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetTransformInfo &amp;&#160;</td>
          <td class="paramname"><em>TTI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DomTreeUpdater &amp;&#160;</td>
          <td class="paramname"><em>DTU</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00492">492</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

<p class="reference">References <a class="el" href="CallSiteSplitting_8cpp_source.html#l00185">canSplitCallSite()</a>, <a class="el" href="CallSiteSplitting_8cpp_source.html#l00449">shouldSplitOnPHIPredicatedArgument()</a>, <a class="el" href="CallSiteSplitting_8cpp_source.html#l00460">shouldSplitOnPredicatedArgument()</a>, and <a class="el" href="CallSiteSplitting_8cpp_source.html#l00304">splitCallSite()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallSiteSplitting_8cpp_source.html#l00508">doCallSiteSplitting()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac4a0cdaeacc0d086f82521095d8ea3ca" name="ac4a0cdaeacc0d086f82521095d8ea3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a0cdaeacc0d086f82521095d8ea3ca">&#9670;&nbsp;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">callsite Call site false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00580">580</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

</div>
</div>
<a id="af862aa2abae546509b31878b6f55327a" name="af862aa2abae546509b31878b6f55327a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af862aa2abae546509b31878b6f55327a">&#9670;&nbsp;</a></span>splitting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">callsite Call site splitting</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CallSiteSplitting_8cpp_source.html#l00579">579</a> of file <a class="el" href="CallSiteSplitting_8cpp_source.html">CallSiteSplitting.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 13 2022 12:44:45 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
